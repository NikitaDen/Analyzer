{"version":3,"sources":["api/api.js","assets/images/history.svg","assets/images/analytics.svg","assets/images/settings.svg","assets/images/logout.svg","assets/images/cancel.svg","assets/images/confirm.svg","assets/images/edit.svg","assets/images/separator.svg","assets/images/empty.svg","assets/images/nodata.svg","assets/images/add.svg","redux/history-reducer.ts","assets/images/delete.svg","assets/images/prev.svg","assets/images/next.svg","assets/images/end.svg","assets/images/start.svg","assets/images/about.svg","selectors/account-selectors.js","components/Button/Button.tsx","redux/settings-reducer.ts","components/Menu/Menu.tsx","components/History/Form/FormElement/FormElement.tsx","components/History/Form/Form.tsx","components/History/Filter/ItemDates/ItemDates.tsx","components/History/Filter/ItemFilter/ItemFilter.tsx","components/History/Filter/ItemSort/ItemSort.tsx","components/History/Filter/ItemDirection/ItemDirection.tsx","components/History/Filter/Filter.tsx","components/History/Expense/Expense.tsx","components/History/TableHeader/TableItem/TableItem.tsx","components/History/TableHeader/TableHeader.tsx","components/EmptyInfo/EmptyInfo.tsx","components/History/HistoryItems/HistoryItems.tsx","components/History/History.tsx","components/Analytics/Period/Period.tsx","components/Analytics/AnalyticsInfo/AnalyticsInfo.tsx","components/Analytics/BiggestExpense/BiggestExpense.tsx","components/Analytics/Analytics.tsx","components/Intro/Intro.tsx","components/Login/Login.tsx","components/Register/Register.tsx","App.tsx","HOC/withLoadingSuspense.tsx","serviceWorker.ts","redux/redux-store.ts","index.tsx","components/Loader/Loader.tsx","selectors/history-selectors.js","components/Confirm/Confirm.tsx","selectors/settings-selector.js","assets/images/save.svg","assets/images/search.svg","assets/images/clear.svg","redux/account-reducer.ts","assets/images/loading-1.svg"],"names":["baseURL","instance","axios","create","headers","localStorage","getItem","authAPI","register","name","email","password","post","logout","historyAPI","getExpenses","page","limit","get","addExpense","expense","category","count","spent","price","date","Date","toLocaleString","id","changeExpense","put","deleteExpense","settingsAPI","addCategory","refreshToken","url","payload","method","dispatch","actionCreator","a","token","response","data","setItem","items","expenses","getPages","length","getCategories","showLoading","userLogin","module","exports","initialState","pages","type","addExpenseThunkCreator","deleteExpensesThunkCreator","getExpensesThunkCreator","getAllExpensesThunkCreator","changeExpenseThunkCreator","historyReducer","state","action","filter","item","includes","Math","ceil","map","isAuthSelector","store","account","isAuth","isLoadingSelector","isLoading","isLoginLoadingSelector","isLoginLoading","infoSelector","info","Button","props","disabled","className","onClick","func","src","image","alt","title","categories","addCategoriesThunkCreator","getCategoriesThunkCreator","deleteCategory","deleteCategoryThunkCreator","settingsReducer","connect","userLogoutThunkCreator","to","history","analytics","settings","React","memo","htmlFor","children","useState","setName","setCategory","setPrice","setCount","error","setError","useEffect","showForm","autoFocus","value","onChange","e","target","key","min","parseInt","replace","now","save","ItemDates","setFilter","setFilterInRange","maxDate","dateHigher","showTimeSelect","onChangeDateLower","selected","dateLower","minDate","onChangeDateHigher","style","backgroundImage","clear","backgroundColor","search","ItemFilter","ItemSort","sort","setSort","sortValues","ItemDirection","descending","setDescending","Filter","filterInRange","Expense","editMode","setEditMode","setSpent","showConfirm","setShowConfirm","checkedAll","checked","setChecked","object","chosenItems","Symbol","iterator","setChosenItems","Array","from","Set","splice","indexOf","Confirm","close","currentTarget","edit","TableItem","separator","chooseAllItems","HistoryItems","sortedExpenses","defineSort","reverse","compareNames","b","toLowerCase","compareCategory","useCallback","setCheckedAll","Loader","noData","empty","expensesSelector","pagesSelector","categoriesSelector","getUser","setHours","setDateLower","setDate","getDate","setDateHigher","setShowForm","currentPage","setCurrentPage","deleteFlag","setDeleteFlag","onDeleteExpense","opacity","pointerEvents","add","del","setExpenses","start","prev","fontWeight","onChangeCurrentPage","next","end","Period","onSetPeriod","showForPeriod","setShowForPeriod","setShowMoreInfo","AnalyticsInfo","chartsFunc","diff","barData","labels","datasets","label","borderColor","borderWidth","hoverBackgroundColor","maxBarThickness","findTotalSpending","findBiggerSpent","showExpensesPerDay","lineChart","height","getElementAtEvent","showMoreDetailsForCategory","_chart","config","_index","showMoreInfo","moreInfo","BiggestExpense","getFullYear","getMonth","setMoreInfo","defineChartInfo","forPeriod","forEach","push","reduce","sum","elem","defineLineChartInfo","lineChartData","newLineDates","expensesByDates","acc","max","Intro","showIntro","setShowIntro","compose","userLoginThunkCreator","withRouter","setEmail","setPassword","userRegisterThunkCreator","Settings","lazy","App","Component","SettingsLoading","Suspense","fallback","loading","path","render","Boolean","window","location","hostname","match","reducers","combineReducers","accountReducer","createStore","applyMiddleware","thunkMiddleWare","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message","loader","confirm","cancel","setInfo","loginLoading","JSON","stringify","parse"],"mappings":"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","file":"static/js/main.59235a1f.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport {showLoading, userLogin} from \"../redux/account-reducer\";\r\nimport {deleteExpense, getExpenses, getPages} from \"../redux/history-reducer\";\r\nimport {getCategories} from \"../redux/settings-reducer\";\r\n\r\n// export const baseURL = 'http://localhost:5000/api';\r\nexport const baseURL = 'https://analyzerserver.herokuapp.com/api';\r\n\r\nconst instance = axios.create({\r\n    baseURL,\r\n    headers: {\r\n        'token': `${localStorage.getItem('token')}`\r\n    }\r\n});\r\n\r\nexport const authAPI = {\r\n    register(name, email, password) {\r\n        return instance.post('user/register', {name, email, password});\r\n    },\r\n    logout() {\r\n        return instance.post('user/logout');\r\n    }\r\n};\r\n\r\nexport const historyAPI = {\r\n    getExpenses(page = 1, limit = 10) {\r\n        return instance.get(`history/expenses?page=${page}&limit=${limit}`);\r\n    },\r\n    addExpense(expense) {\r\n        return instance.post('history/expenses', {\r\n            name: expense.name,\r\n            category: expense.category,\r\n            count: expense.count,\r\n            spent: expense.spent,\r\n            price: expense.price,\r\n            date: `${new Date().toLocaleString()}`,\r\n            id: expense.id,\r\n        });\r\n    },\r\n    changeExpense(id, name, category, spent, count, price) {\r\n        return instance.put('history/change', {id, name, category, spent, count, price});\r\n    },\r\n    deleteExpense(id) {\r\n        return instance.put('history/delete', {id});\r\n    },\r\n};\r\n\r\nexport const settingsAPI = {\r\n    addCategory(name, id) {\r\n        return instance.post('settings/categories', {name, id});\r\n    },\r\n    deleteExpense(id) {\r\n        return instance.put('settings/delete', {id});\r\n    },\r\n};\r\n\r\nexport const refreshToken = async (url, payload, method, dispatch, actionCreator) => {\r\n    const token = `${localStorage.getItem('refreshToken')}`;\r\n\r\n    if (token) {\r\n        const response = await axios.post(`${baseURL}/user/token`, {\r\n            token: token\r\n        });\r\n        if (response.data) {\r\n            localStorage.setItem('token', response.data);\r\n\r\n            if (method !== axios.get) {\r\n                await method(`${baseURL}${url}`, payload, {\r\n                    headers: {\r\n                        'token': response.data\r\n                    }\r\n                });\r\n                if (actionCreator === deleteExpense) {\r\n                    dispatch(deleteExpense(payload.id));\r\n                }\r\n            } else {\r\n                const items = await method(`${baseURL}${url}`, {\r\n                    headers: {\r\n                        'token': response.data\r\n                    }\r\n                });\r\n                if (actionCreator === getExpenses) {\r\n                    dispatch(getExpenses(items.data.expenses));\r\n                    dispatch(getPages(items.data.length));\r\n                } else if (actionCreator === getCategories) {\r\n                    dispatch(getCategories(items.data));\r\n                }\r\n            }\r\n\r\n            dispatch(showLoading(false));\r\n        }\r\n    } else {\r\n        dispatch(userLogin(false));\r\n    }\r\n};\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/history.2ec496af.svg\";","module.exports = __webpack_public_path__ + \"static/media/analytics.0e0ff751.svg\";","module.exports = __webpack_public_path__ + \"static/media/settings.a4fe81f9.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout.8b4c5e56.svg\";","module.exports = __webpack_public_path__ + \"static/media/cancel.7aea8764.svg\";","module.exports = __webpack_public_path__ + \"static/media/confirm.a8562565.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit.b79003c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/separator.13ff7084.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.7cc6dd27.svg\";","module.exports = __webpack_public_path__ + \"static/media/nodata.2d46dca5.svg\";","module.exports = __webpack_public_path__ + \"static/media/add.fc75b7e4.svg\";","import {showLoading} from \"./account-reducer\";\r\nimport {baseURL, historyAPI, refreshToken} from \"../api/api\";\r\nimport axios from \"axios\";\r\nimport {ActionCreator} from \"./interfaces\";\r\nimport { Dispatch } from \"redux\";\r\nimport {CategoryType} from \"./settings-reducer\";\r\n\r\nconst ADD_EXPENSE = 'ADD_EXPENSE';\r\nconst DELETE_EXPENSE = 'DELETE_EXPENSE';\r\nconst GET_EXPENSES = 'GET_EXPENSES';\r\nconst GET_PAGES = 'GET_PAGES';\r\nconst CHANGE_EXPENSE = 'CHANGE_EXPENSE';\r\n\r\ntype InitialState = {\r\n    expenses: Array<Expense>,\r\n    pages: number,\r\n    limit: number,\r\n};\r\n\r\ninterface Expense {\r\n    id: number,\r\n    category: string,\r\n    count: number,\r\n    name: string,\r\n    price: number,\r\n    spent: number,\r\n}\r\n\r\nlet initialState: InitialState = {\r\n    expenses: [],\r\n    pages: 1,\r\n    limit: 10,\r\n};\r\n\r\nconst historyReducer = (state = initialState, action: ActionCreator<string>) => {\r\n    switch (action.type) {\r\n        case ADD_EXPENSE:\r\n            return {\r\n                ...state,\r\n                expenses: [\r\n                    ...state.expenses,\r\n                    {\r\n                        ...action.expense,\r\n                        date: `${new Date().toLocaleString()}`,\r\n                    },\r\n                ]\r\n            };\r\n        case DELETE_EXPENSE:\r\n            return {\r\n                ...state,\r\n                expenses: [\r\n                    ...state.expenses.filter((item: any) => !action.id.includes(item.id))\r\n                ]\r\n            };\r\n        case GET_EXPENSES: {\r\n            return {\r\n                ...state,\r\n                expenses: [...action.expenses]\r\n            };\r\n        }\r\n        case GET_PAGES: {\r\n            return {\r\n                ...state,\r\n                pages: Math.ceil(action.pages / state.limit),\r\n            };\r\n        }\r\n        case CHANGE_EXPENSE: {\r\n            return {\r\n                ...state,\r\n                expenses: [\r\n                    ...state.expenses.map((item: any) => {\r\n                        if (item.id === action.id) {\r\n                            return {\r\n                                ...item,\r\n                                name: action.name,\r\n                                category: action.category,\r\n                                count: action.count,\r\n                                spent: action.spent,\r\n                                price: action.price,\r\n                            }\r\n                        }\r\n                        return item\r\n                    })\r\n                ]\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addExpense = (expense: Expense): ActionCreator<typeof ADD_EXPENSE> => ({type: ADD_EXPENSE, expense});\r\nexport const addExpenseThunkCreator = (expense: Expense) => async (dispatch: Dispatch) => {\r\n    dispatch(showLoading(true));\r\n\r\n    try {\r\n        dispatch(addExpense(expense));\r\n        await historyAPI.addExpense(expense);\r\n        dispatch(showLoading(false));\r\n    } catch (e) {\r\n        await refreshToken('/history/expenses', {\r\n            name: expense.name,\r\n            category: expense.category,\r\n            count: expense.count,\r\n            spent: expense.spent,\r\n            price: expense.price,\r\n            date: `${new Date().toLocaleString()}`,\r\n            id: expense.id,\r\n        }, axios.post, dispatch);\r\n    }\r\n};\r\n\r\nexport const deleteExpense = (id: Array<number>): ActionCreator<typeof DELETE_EXPENSE> => ({type: DELETE_EXPENSE, id});\r\nexport const deleteExpensesThunkCreator = (id: Array<number>) => async (dispatch: Dispatch) => {\r\n    dispatch(showLoading(true));\r\n    try {\r\n        debugger\r\n        dispatch(deleteExpense(id));\r\n        await historyAPI.deleteExpense(id);\r\n        dispatch(showLoading(false));\r\n    } catch (e) {\r\n        await refreshToken('/history/delete', {id}, axios.put, dispatch, deleteExpense);\r\n    }\r\n};\r\n\r\n\r\nexport const getExpenses = (expenses: Array<Expense>): ActionCreator<typeof GET_EXPENSES> => ({type: GET_EXPENSES, expenses});\r\nexport const getPages = (pages: number): ActionCreator<typeof GET_PAGES> => ({type: GET_PAGES, pages});\r\n\r\nexport const getExpensesThunkCreator = (page: number = 1) => async (dispatch: Dispatch) => {\r\n    dispatch(showLoading(true));\r\n\r\n    try {\r\n        const response = await axios.get(`${baseURL}/history/expenses?page=${page}&limit=10`, {\r\n            headers: {\r\n                'token': `${localStorage.getItem('token')}`\r\n            }\r\n        });\r\n        dispatch(showLoading(false));\r\n        dispatch(getExpenses(response.data.expenses));\r\n        dispatch(getPages(response.data.length));\r\n    } catch (e) {\r\n        await refreshToken(`/history/expenses?page=${page}&limit=10`, null, axios.get, dispatch, getExpenses);\r\n    }\r\n};\r\n\r\nexport const getAllExpensesThunkCreator = () => async (dispatch: Dispatch) => {\r\n    dispatch(showLoading(true));\r\n\r\n    try {\r\n        const response = await axios.get(`${baseURL}/history/allexpenses`, {\r\n            headers: {\r\n                'token': `${localStorage.getItem('token')}`\r\n            }\r\n        });\r\n        dispatch(showLoading(false));\r\n        dispatch(getExpenses(response.data.expenses));\r\n    } catch (e) {\r\n        await refreshToken('/history/allexpenses', null, axios.get, dispatch, getExpenses);\r\n    }\r\n};\r\n\r\nexport const changeExpense = (id: number, name: string, category: string, spent: number, count: number, price: number): ActionCreator<typeof CHANGE_EXPENSE> => ({\r\n    type: CHANGE_EXPENSE, id, name, category, spent, count, price\r\n});\r\nexport const changeExpenseThunkCreator = (id: number, name: string, category: string, spent: number, count: number, price: number) => async (dispatch: Dispatch) => {\r\n    dispatch(showLoading(true));\r\n\r\n    try {\r\n        dispatch(changeExpense(id, name, category, spent, count, price));\r\n\r\n        await historyAPI.changeExpense(id, name, category, spent, count, price);\r\n\r\n        dispatch(showLoading(false));\r\n    } catch (e) {\r\n        await refreshToken('/history/change', {id, name, category, spent, count, price}, axios.put, dispatch);\r\n    }\r\n};\r\n\r\nexport default historyReducer;","module.exports = __webpack_public_path__ + \"static/media/delete.fa5e6b6a.svg\";","module.exports = __webpack_public_path__ + \"static/media/prev.bb69c57d.svg\";","module.exports = __webpack_public_path__ + \"static/media/next.a68f625a.svg\";","module.exports = __webpack_public_path__ + \"static/media/end.4ac8d67a.svg\";","module.exports = __webpack_public_path__ + \"static/media/start.156456ab.svg\";","module.exports = __webpack_public_path__ + \"static/media/about.8cb4e54b.svg\";","export const isAuthSelector = (store) => {\r\n    return store.account.isAuth;\r\n};\r\n\r\nexport const isLoadingSelector = (store) => {\r\n    return store.account.isLoading;\r\n};\r\n\r\nexport const isLoginLoadingSelector = (store) => {\r\n    return store.account.isLoginLoading;\r\n};\r\n\r\nexport const infoSelector = (store) => {\r\n    return store.account.info;\r\n};","import React from \"react\";\r\n\r\ninterface Props {\r\n    image: string,\r\n    className: string,\r\n    title?: string,\r\n    disabled?: boolean,\r\n    func(val?: any): void,\r\n}\r\n\r\nconst Button: React.FC<Props> = (props) => {\r\n    return (\r\n        <button disabled={props.disabled} className={props.className} onClick={props.func}>\r\n            <img src={props.image} alt=\"\"/>\r\n            {props.title && <p>{props.title}</p>}\r\n        </button>\r\n    )\r\n};\r\n\r\nexport default Button;","import {baseURL, refreshToken, settingsAPI} from \"../api/api\";\r\nimport axios from \"axios\";\r\nimport {showLoading} from \"./account-reducer\";\r\nimport {ActionCreator} from \"./interfaces\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst ADD_CATEGORY = 'ADD_CATEGORY';\r\nconst DELETE_CATEGORY = 'DELETE_CATEGORY';\r\nconst GET_CATEGORIES = 'GET_CATEGORIES';\r\n\r\nexport type CategoryType = {\r\n    name: string,\r\n    id: number\r\n}\r\n\r\nlet initialState: any = {\r\n    categories: []\r\n};\r\n\r\nconst settingsReducer = (state = initialState, action: ActionCreator<string>) => {\r\n    switch (action.type) {\r\n        case GET_CATEGORIES: {\r\n            return {\r\n                ...state,\r\n                categories: action.categories\r\n            };\r\n        }\r\n        case ADD_CATEGORY: {\r\n            return {\r\n                ...state,\r\n                categories: [\r\n                    ...state.categories,\r\n                    {\r\n                        name: action.name,\r\n                        id: action.id,\r\n                    }\r\n                ]\r\n            };\r\n        }\r\n        case DELETE_CATEGORY: {\r\n            return {\r\n                ...state,\r\n                categories: [\r\n                    ...state.categories.filter((item: any) => item.id !== action.id)\r\n                ]\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addCategory = (name: string, id: number): ActionCreator<typeof ADD_CATEGORY> => ({type: ADD_CATEGORY, name, id});\r\nexport const addCategoriesThunkCreator = (name: string, id: number) => async (dispatch: Dispatch) => {\r\n    dispatch(showLoading(true));\r\n    try {\r\n        dispatch(addCategory(name, id));\r\n\r\n        await settingsAPI.addCategory(name, id);\r\n        dispatch(showLoading(false));\r\n    } catch (e) {\r\n        await refreshToken('/settings/categories', {name, id}, axios.post, dispatch);\r\n    }\r\n};\r\n\r\n\r\n\r\nexport const getCategories = (categories: Array<CategoryType>): ActionCreator<typeof GET_CATEGORIES> => ({type: GET_CATEGORIES, categories});\r\nexport const getCategoriesThunkCreator = () => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await axios.get(`${baseURL}/settings/categories`, {\r\n            headers: {\r\n                'token': `${localStorage.getItem('token')}`\r\n            }\r\n        });\r\n\r\n        dispatch(getCategories(response.data));\r\n    } catch (e) {\r\n        await refreshToken('/settings/categories', null, axios.get, dispatch, getCategories);\r\n    }\r\n};\r\n\r\nexport const deleteCategory = (id: number): ActionCreator<typeof DELETE_CATEGORY> => ({type: DELETE_CATEGORY, id});\r\nexport const deleteCategoryThunkCreator = (id: number) => async (dispatch: Dispatch) => {\r\n    dispatch(showLoading(true));\r\n\r\n    try {\r\n        dispatch(deleteCategory(id));\r\n\r\n        await settingsAPI.deleteExpense(id);\r\n\r\n        dispatch(showLoading(false));\r\n    } catch (e) {\r\n        await refreshToken('/settings/delete', {id}, axios.put, dispatch);\r\n    }\r\n};\r\n\r\nexport default settingsReducer;","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport './menu.scss';\r\nimport history from './../../assets/images/history.svg';\r\nimport analytics from './../../assets/images/analytics.svg';\r\nimport settings from './../../assets/images/settings.svg';\r\nimport {connect} from \"react-redux\";\r\nimport {userLogoutThunkCreator} from \"../../redux/account-reducer\";\r\nimport Button from \"../Button/Button\";\r\nimport logout from './../../assets/images/logout.svg';\r\nimport {isAuthSelector} from \"../../selectors/account-selectors\";\r\n\r\nconst Menu = (props: any) => {\r\n    return (\r\n        <nav>\r\n            <NavLink className={'logo'} to={'/history'}>\r\n                <p>Analyzer</p>\r\n            </NavLink>\r\n            <div className={'menu'}>\r\n                <NavLink className={'menu__item'} to={'/history'}>\r\n                    <p>History</p>\r\n                    <img src={history} alt=\"H\"/>\r\n                </NavLink>\r\n                <NavLink className={'menu__item'} to={'/analytics'}>\r\n                    <p>Analytics</p>\r\n                    <img src={analytics} alt=\"A\"/>\r\n                </NavLink>\r\n                <NavLink className={'menu__item'} to={'/settings'}>\r\n                    <p>Settings</p>\r\n                    <img src={settings} alt=\"S\"/>\r\n                </NavLink>\r\n            </div>\r\n            <div className={'login-buttons'}>\r\n                {props.isAuth && <>\r\n                    <Button image={logout} className={'button button--logout'}\r\n                            func={props.userLogoutThunkCreator} title={''}/>\r\n                </>}\r\n            </div>\r\n        </nav>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (store: any) => ({\r\n    isAuth: isAuthSelector(store),\r\n});\r\n\r\nexport default connect(mapStateToProps, {userLogoutThunkCreator})(Menu);","import React from \"react\";\r\n\r\ninterface Props {\r\n    title: string\r\n    children: any\r\n}\r\n\r\nconst FormElement: React.FC<Props> = (props) => {\r\n    return (\r\n        <div className={'form__element'}>\r\n            <label htmlFor=\"name\">{props.title}</label>\r\n            {props.children}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default React.memo(FormElement);","import React, {useEffect, useState} from \"react\";\r\nimport './form.scss';\r\nimport save from './../../../assets/images/save.svg';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FormElement from \"./FormElement/FormElement\";\r\nimport {CategoryType} from \"../../../redux/settings-reducer\";\r\n\r\ninterface Props {\r\n    categories: Array<CategoryType>,\r\n    showForm: boolean,\r\n    currentPage: number,\r\n    getCategoriesThunkCreator(): void,\r\n    getExpensesThunkCreator(): any,\r\n    addExpenseThunkCreator<T extends object>(expense: T): void,\r\n}\r\n\r\nconst Form: React.FC<Props> = (props) => {\r\n    const [name, setName] = useState('');\r\n    const [category, setCategory] = useState('');\r\n    const [price, setPrice] = useState(0);\r\n    const [count, setCount] = useState(1);\r\n    const [error, setError] = useState(false);\r\n\r\n    useEffect(() => {\r\n        props.getCategoriesThunkCreator();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (props.categories.length) {\r\n            setCategory(props.categories[0].name)\r\n        }\r\n    }, [props.categories]);\r\n\r\n    const onAddExpenseButton = () => {\r\n        if (name.replace(/\\s+/g, '')) {\r\n            props.addExpenseThunkCreator({category, count, name, price, spent: price * count, id: Date.now()});\r\n            setName('');\r\n            setCount(1);\r\n            setPrice(0);\r\n        } else {\r\n            setError(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {props.showForm && <>\r\n                <div className={'form'}>\r\n                    <FormElement title={'Name'}>\r\n                        <input type=\"text\" autoFocus={true} className={!error ? 'name' : 'name name--error'} id={'name'} value={name}\r\n                               onChange={e => {\r\n                                   setName(e.target.value);\r\n                                   setError(false);\r\n                               }}/>\r\n                    </FormElement>\r\n                    <FormElement title={'Category'}>\r\n                        {props.categories.length ? <select value={category} onChange={(e) => setCategory(e.target.value)} name=\"category\"\r\n                                                           id=\"category\">\r\n                            {props.categories.map((item: any) => <option key={item.name}\r\n                                                                         value={item.name}>{item.name}</option>)}\r\n                        </select> : <NavLink to={'settings'}>Set your categories</NavLink>}\r\n                    </FormElement>\r\n                    <FormElement title={'Count'}>\r\n                        <input type=\"number\" id={'count'} value={count} min={0}\r\n                               onChange={(e) => setCount(parseInt(e.target.value))}/>\r\n                    </FormElement>\r\n                    <FormElement title={'Price'}>\r\n                        <input type=\"number\" id={'price'} value={price} min={0}\r\n                               onChange={(e) => setPrice(parseInt(e.target.value))}/>\r\n                    </FormElement>\r\n\r\n                    <button className={'button button--addItem'} onClick={onAddExpenseButton}>\r\n                        <img src={save} alt=\"\"/>\r\n                    </button>\r\n                </div>\r\n            </>}</>\r\n    )\r\n};\r\n\r\nexport default React.memo(Form);","import React, {useEffect, useState} from \"react\";\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport search from './../../../../assets/images/search.svg';\r\nimport clear from './../../../../assets/images/clear.svg';\r\n\r\ninterface Props {\r\n    filterInRange: boolean,\r\n    dateHigher: Date,\r\n    dateLower: Date,\r\n\r\n    onChangeDateLower(date: Date): void,\r\n\r\n    onChangeDateHigher(date: Date): void,\r\n\r\n    setFilterInRange(filter: boolean): void,\r\n}\r\n\r\nconst ItemDates: React.FC<Props> = (props) => {\r\n    const [filter, setFilter] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (filter) {\r\n            props.setFilterInRange(true);\r\n        } else {\r\n            props.setFilterInRange(false)\r\n        }\r\n    }, [filter]);\r\n\r\n    const onToggleFilter = () => {\r\n        setFilter(!filter);\r\n    };\r\n\r\n    return (\r\n        <div className={'filter__item filter__item--dates'}>\r\n            <label htmlFor=\"sort\">Dates</label>\r\n\r\n            <div className={'dates'}>\r\n                <div className={'dates__element'}>\r\n                    <p>From:</p>\r\n                    <DatePicker maxDate={props.dateHigher} showTimeSelect onChange={props.onChangeDateLower} selected={props.dateLower}/>\r\n                </div>\r\n                <div className={'dates__element'}>\r\n                    <p>To:</p>\r\n                    <DatePicker minDate={props.dateLower} showTimeSelect disabled={props.dateLower > props.dateHigher}\r\n                                onChange={props.onChangeDateHigher} selected={props.dateHigher}/>\r\n                </div>\r\n            </div>\r\n\r\n            <input onChange={onToggleFilter} id='dark-check' type=\"checkbox\"/>\r\n            <label className='dark-mode' htmlFor=\"dark-check\">\r\n                <div className='toggle'\r\n                     style={filter ? {backgroundImage: `url(${clear})`, backgroundColor: '#FF7777'} : {backgroundImage: `url(${search})`}}/>\r\n            </label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ItemDates;","import React from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport {CategoryType} from \"../../../../redux/settings-reducer\";\r\n\r\ninterface Props {\r\n    filter: string,\r\n    categories: Array<CategoryType>,\r\n\r\n    setFilter(value: string): void,\r\n\r\n    setSort(value: string): void,\r\n\r\n    setDescending(value: string): void,\r\n}\r\n\r\nconst ItemFilter: React.FC<Props> = (props) => {\r\n    return (\r\n        <div className={'filter__item filter__item--filter'}>\r\n            <label htmlFor=\"filter\">Filter</label>\r\n            <select value={props.filter} onChange={(e) => props.setFilter(e.target.value)} name=\"filter\"\r\n                    id=\"filter\">\r\n                <option value=\"noFilter\">No filter</option>\r\n                {props.categories.map((item: any) => <option key={item.name} value={item.name}>{item.name}</option>)}\r\n            </select>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ItemFilter;","import React from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\ninterface Props {\r\n    sort: string,\r\n    sortValues: Array<string>,\r\n    setSort(value: string): void,\r\n}\r\n\r\nconst ItemSort: React.FC<Props> = (props) => {\r\n\r\n    return (\r\n        <div className={'filter__item filter__item--sort'}>\r\n            <label htmlFor=\"sort\">Sort</label>\r\n            <select value={props.sort} onChange={(e) => props.setSort(e.target.value)} name=\"filter\"\r\n                    id=\"sort\">\r\n                {props.sortValues.map((item: string) => <option key={item} value={item}>{item}</option>)}\r\n            </select>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ItemSort;","import React from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\ninterface Props {\r\n    descending: string,\r\n    setDescending(value: string): void,\r\n}\r\n\r\nconst ItemDirection: React.FC<Props> = (props) => {\r\n\r\n    return (\r\n        <div className={'filter__item filter__item--direction'}>\r\n            <label htmlFor=\"sort\">Direction</label>\r\n            <select value={props.descending} onChange={(e) => props.setDescending(e.target.value)}\r\n                    name=\"descending\">\r\n                <option value=\"Ascending\">Ascending</option>\r\n                <option value=\"Descending\">Descending</option>\r\n            </select>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ItemDirection;","import React from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport './filter.scss';\r\nimport ItemDates from \"./ItemDates/ItemDates\";\r\nimport ItemFilter from \"./ItemFilter/ItemFilter\";\r\nimport ItemSort from \"./ItemSort/ItemSort\";\r\nimport ItemDirection from \"./ItemDirection/ItemDirection\";\r\nimport {CategoryType} from \"../../../redux/settings-reducer\";\r\n\r\ninterface Props {\r\n    filter: string,\r\n    categories: Array<CategoryType>,\r\n    sort: string,\r\n    filterInRange: boolean,\r\n    sortValues: Array<string>,\r\n    descending: string,\r\n    dateHigher: number,\r\n    dateLower: number,\r\n\r\n    setFilter(value: string): void,\r\n\r\n    setSort(value: string): void,\r\n\r\n    setDescending(value: string): void,\r\n\r\n    onChangeDateLower(date: Date): void,\r\n\r\n    onChangeDateHigher(date: Date): void,\r\n\r\n    setFilterInRange(filter: boolean): void,\r\n}\r\n\r\nconst Filter: React.FC<Props> = (props) => {\r\n\r\n    return (\r\n        <div className={'filter'}>\r\n            <ItemFilter filter={props.filter} categories={props.categories} setFilter={props.setFilter}\r\n                        setSort={props.setSort} setDescending={props.setDescending}/>\r\n\r\n            <ItemSort sort={props.sort} sortValues={props.sortValues} setSort={props.setSort}/>\r\n\r\n            <ItemDirection descending={props.descending} setDescending={props.setDescending}/>\r\n\r\n            <ItemDates filterInRange={props.filterInRange} dateHigher={new Date(props.dateHigher)} dateLower={new Date(props.dateLower)}\r\n                       onChangeDateLower={props.onChangeDateLower} onChangeDateHigher={props.onChangeDateHigher}\r\n                       setFilterInRange={props.setFilterInRange}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Filter;","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\nimport Confirm from \"../../Confirm/Confirm\";\r\nimport './expense.scss';\r\nimport Button from \"../../Button/Button\";\r\nimport edit from \"../../../assets/images/edit.svg\";\r\nimport save from \"../../../assets/images/save.svg\";\r\nimport {CategoryType} from \"../../../redux/settings-reducer\";\r\n\r\ninterface Props {\r\n    id: number,\r\n    name: string,\r\n    category: string,\r\n    count: number,\r\n    price: number,\r\n    spent: number,\r\n    date: string,\r\n    categories: Array<CategoryType>,\r\n    chosenItems: Array<any>,\r\n    checkedAll: boolean,\r\n\r\n    setChosenItems(val?: any): void,\r\n\r\n    deleteExpense(id: any): void,\r\n    getExpensesThunkCreator(par?: any): void,\r\n    changeExpenseThunkCreator(id: number, name: string, category: string, spent: number, count: number, price: number): void\r\n}\r\n\r\nconst Expense: React.FC<Props> = (props) => {\r\n    const [name, setName] = useState(props.name);\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [category, setCategory] = useState(props.category);\r\n    const [price, setPrice] = useState(props.price);\r\n    const [spent, setSpent] = useState(props.spent);\r\n    const [count, setCount] = useState(props.count);\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    const [checked, setChecked] = useState(props.checkedAll);\r\n\r\n    useEffect(() => {\r\n        setSpent(price * count)\r\n    }, [count, price]);\r\n\r\n    useEffect(() => {\r\n        setChecked(props.checkedAll);\r\n    }, [props.checkedAll]);\r\n\r\n    const isIterable = (object: any) => object != null && typeof object[Symbol.iterator] === 'function';\r\n\r\n    useEffect(() => {\r\n        if (checked) {\r\n            const itemsIter = isIterable(props.chosenItems);\r\n            if (itemsIter) {\r\n                props.setChosenItems(Array.from(new Set([...props.chosenItems, props.id])));\r\n            }\r\n        } else {\r\n            props.chosenItems.splice(props.chosenItems.indexOf(props.id), props.chosenItems.indexOf(props.id) === -1 ? 0 : 1);\r\n            props.setChosenItems([...props.chosenItems]);\r\n        }\r\n    }, [checked]);\r\n\r\n    const onDeleteExpense = () => {\r\n        props.deleteExpense(props.id);\r\n    };\r\n\r\n    const onEditCategory = () => {\r\n        setEditMode(true)\r\n    };\r\n\r\n    const onSaveCategory = () => {\r\n        props.changeExpenseThunkCreator(props.id, name, category, spent, count, price);\r\n        setEditMode(false);\r\n    };\r\n\r\n    const onChangeName = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setName(e.currentTarget.value)\r\n    };\r\n\r\n    const onChangeCategory = (e: ChangeEvent<HTMLSelectElement>) => {\r\n        setCategory(e.currentTarget.value)\r\n    };\r\n\r\n    const onChooseItem = () => {\r\n        setChecked(!checked);\r\n    };\r\n\r\n    return (\r\n        <div className={checked ? 'expense expense--chosen' : 'expense'}>\r\n            {showConfirm ? <Confirm className={'confirm'} title={'Are you sure?'} func={onDeleteExpense}\r\n                                    close={() => setShowConfirm(false)}/> : null}\r\n            {!editMode ?\r\n                <>\r\n                    <div className={'checkbox-element'}>\r\n                        <input checked={checked} onChange={onChooseItem} type=\"checkbox\"/>\r\n                        <label>\r\n                            <div className={'checked'}/>\r\n                        </label>\r\n                    </div>\r\n\r\n                    <p>{props.name}</p>\r\n                    <p>{props.category}</p>\r\n                    <p>{props.price}</p>\r\n                    <p>{props.count}</p>\r\n                    <p>{props.spent}</p>\r\n\r\n                    <div>\r\n                        <p>{props.date}</p>\r\n                    </div>\r\n                    <Button image={edit} func={onEditCategory} className={'button button--edit'}/>\r\n                </> :\r\n                <>\r\n                    <p/>\r\n                    <input type=\"text\" onChange={onChangeName} value={name}/>\r\n                    <select value={category} onChange={onChangeCategory} name=\"filter\" id=\"filter\">\r\n                        {props.categories.map((item: any) => <option key={item.name}\r\n                                                                     value={item.name}>{item.name}</option>)}\r\n                    </select>\r\n                    <input type=\"number\" id={'price'} value={price} min={0} onChange={(e) => setPrice(+e.target.value)}/>\r\n                    <input type=\"number\" id={'count'} value={count} min={1} onChange={(e) => setCount(+e.target.value)}/>\r\n\r\n                    <p>{spent}</p>\r\n\r\n                    <div>\r\n                        <p>{props.date}</p>\r\n                    </div>\r\n                    <Button image={save} func={onSaveCategory} className={'button button--save'}/>\r\n                </>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Expense;","import React from \"react\";\r\nimport separator from './../../../../assets/images/separator.svg';\r\n\r\ninterface Props {\r\n    title: string\r\n}\r\n\r\nconst TableItem: React.FC<Props> = (props) => <div className={'table__header__item'}>\r\n    <img src={separator} alt=\"|\"/>\r\n    <p>{props.title}</p>\r\n</div>;\r\n\r\nexport default TableItem;","import React from \"react\";\r\nimport '../history.scss';\r\nimport TableItem from \"./TableItem/TableItem\";\r\n\r\ninterface Props {\r\n    checkedAll: boolean,\r\n    chooseAllItems(): void\r\n}\r\n\r\nconst TableHeader: React.FC<Props> = (props) => {\r\n    const tableTitles: Array<string> = ['Name', 'Category', 'Price', 'Count', 'Spent', 'Date'];\r\n\r\n    return (\r\n        <div className={'table__header'}>\r\n            <div className={'checkbox-element'}>\r\n                <input checked={props.checkedAll} onChange={props.chooseAllItems} type=\"checkbox\"/>\r\n                <label>\r\n                    <div className={'checked'}/>\r\n                </label>\r\n            </div>\r\n\r\n            {tableTitles.map((item: string) => <TableItem key={item} title={item}/>)}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default React.memo(TableHeader);","import React from \"react\";\r\n\r\ninterface Props {\r\n    title: string\r\n    src: string\r\n}\r\n\r\nconst EmptyInfo: React.FC<Props> = (props) => <div className={'empty'}>\r\n    <p>{props.title}</p>\r\n    <img src={props.src} alt=\"empty\"/>\r\n</div>;\r\n\r\nexport default React.memo(EmptyInfo);","import React, {useCallback, useEffect} from \"react\";\r\nimport Expense from \"./../Expense/Expense\";\r\nimport '../history.scss';\r\nimport TableHeader from \"../TableHeader/TableHeader\";\r\nimport empty from './../../../assets/images/empty.svg';\r\nimport noData from './../../../assets/images/nodata.svg';\r\nimport Loader from \"../../Loader/Loader\";\r\nimport EmptyInfo from \"../../EmptyInfo/EmptyInfo\";\r\nimport {CategoryType} from \"../../../redux/settings-reducer\";\r\n\r\ninterface Expense {\r\n    id: number\r\n    name: string\r\n    category: string\r\n    count: number\r\n    price: number\r\n    spent: number\r\n    date: string\r\n}\r\n\r\ninterface Props {\r\n    filter: string,\r\n    sort: string,\r\n    descending: string,\r\n    expenses: Array<Expense>,\r\n    categories: Array<CategoryType>,\r\n    dateLower: number,\r\n    dateHigher: number,\r\n    filterInRange: boolean,\r\n    chosenItems: Array<string>,\r\n    isLoading: boolean,\r\n    checkedAll: boolean,\r\n\r\n    setChosenItems(val?: any): void\r\n    setCheckedAll(val?: any): void\r\n    deleteExpense(id: number): void,\r\n    getExpensesThunkCreator(par?: any): void,\r\n    changeExpenseThunkCreator(id: number, name: string, category: string, spent: number, count: number, price: number): void\r\n    setExpenses(): void,\r\n}\r\n\r\nconst HistoryItems: React.FC<Props> = (props) => {\r\n\r\n    useEffect(() => {\r\n        if (props.checkedAll && props.filterInRange) {\r\n            props.setChosenItems(sortedExpenses.filter(item => item.props.id < props.dateHigher && item.props.id > props.dateLower).length && sortedExpenses.filter(item => item.props.id < props.dateHigher && item.props.id > props.dateLower).map(item => item.props.id));\r\n        } else if (props.checkedAll && !props.filterInRange) {\r\n            if (props.expenses.length && props.filter !== 'noFilter' && props.descending === 'Descending') {\r\n                props.setChosenItems([...expenses.filter((item: Expense) => item.category === props.filter).map((item: Expense) => item.id)]);\r\n            } else if (props.expenses.length && props.filter !== 'noFilter' && props.descending !== 'Descending') {\r\n                props.setChosenItems([...expenses.sort(defineSort()).filter((item: Expense) => item.category === props.filter).map((item: Expense) => item.id).reverse()]);\r\n            } else if (props.descending === 'Descending') {\r\n                props.setChosenItems([...expenses.map((item: Expense) => item.id)]);\r\n            } else {\r\n                props.setChosenItems([...expenses.map((item: Expense) => item.id).reverse()]);\r\n            }\r\n        } else {\r\n            props.setChosenItems([]);\r\n        }\r\n    }, [props.checkedAll, props.filterInRange]);\r\n\r\n    //Compare Functions\r\n    const compareNames = (a: any, b: any) => {\r\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n            return 1;\r\n        }\r\n        if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n            return -1;\r\n        }\r\n        return 0;\r\n    };\r\n    const compareCategory = (a: any, b: any) => {\r\n        if (a.toLowerCase() > b.toLowerCase()) {\r\n            return 1;\r\n        }\r\n        if (a.toLowerCase() < b.toLowerCase()) {\r\n            return -1;\r\n        }\r\n        return 0;\r\n    };\r\n\r\n    //Sort Function\r\n    const defineSort = () => {\r\n        switch (props.sort) {\r\n            case 'By Date':\r\n                return (a: Expense, b: Expense) => b.id - a.id;\r\n            case 'By Spent':\r\n                return (a: Expense, b: Expense) => b.spent - a.spent;\r\n            case 'By Categories':\r\n                return compareCategory;\r\n            case 'By Name':\r\n                return compareNames;\r\n            case 'By Count':\r\n                return (a: Expense, b: Expense) => b.count - a.count;\r\n            default:\r\n                return (a: Expense, b: Expense) => b.id - a.id;\r\n        }\r\n    };\r\n\r\n    //Sorted Expenses with defineSort function\r\n    const expenses = [...props.expenses].sort(defineSort());\r\n\r\n    //Expense Component\r\n    const expense = (item: Expense) => {\r\n        return (\r\n            <Expense id={item.id}\r\n                     key={item.id}\r\n                     categories={props.categories}\r\n                     name={item.name}\r\n                     category={item.category}\r\n                     chosenItems={props.chosenItems}\r\n                     setChosenItems={props.setChosenItems}\r\n                     checkedAll={props.checkedAll}\r\n                     count={item.count}\r\n                     price={item.price}\r\n                     spent={item.spent}\r\n                     date={item.date}\r\n                     deleteExpense={props.deleteExpense}\r\n                     getExpensesThunkCreator={props.getExpensesThunkCreator}\r\n                     changeExpenseThunkCreator={props.changeExpenseThunkCreator}\r\n            />\r\n        )\r\n    };\r\n\r\n\r\n    //Define sorted expenses\r\n    const sortedExpenses = (props.expenses.length && props.filter !== 'noFilter' && props.descending === 'Descending')\r\n        ? expenses.filter((item: Expense) => item.category === props.filter).map((item: Expense) => expense(item))\r\n        : (props.expenses.length && props.filter !== 'noFilter' && props.descending !== 'Descending')\r\n            ? expenses.sort(defineSort()).filter((item: Expense) => item.category === props.filter).map((item: Expense) => expense(item)).reverse()\r\n            : (props.descending === 'Descending')\r\n                ? expenses.map((item: Expense) => expense(item))\r\n                : expenses.map((item: Expense) => expense(item)).reverse();\r\n\r\n    const chooseAllItems = useCallback(() => {\r\n        props.setCheckedAll(!props.checkedAll);\r\n    }, [props.checkedAll]);\r\n\r\n    return (\r\n        <div className={'table'}>\r\n            <TableHeader checkedAll={props.checkedAll} chooseAllItems={chooseAllItems}/>\r\n\r\n            {props.isLoading && <Loader/>}\r\n\r\n            {props.filterInRange ? sortedExpenses.filter(item => item.props.id < props.dateHigher && item.props.id > props.dateLower).length\r\n                ? sortedExpenses.filter(item => item.props.id < props.dateHigher && item.props.id > props.dateLower) :\r\n                <EmptyInfo title={'You don\\'t have any data for this period'} src={noData}/> : sortedExpenses}\r\n\r\n            {props.expenses.length === 0 && !props.filterInRange && <EmptyInfo title={'Add your first expense'} src={empty}/>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default HistoryItems;","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    addExpenseThunkCreator,\r\n    changeExpenseThunkCreator,\r\n    deleteExpensesThunkCreator, getExpenses,\r\n    getExpensesThunkCreator,\r\n} from \"../../redux/history-reducer\";\r\nimport Form from \"./Form/Form\";\r\nimport Filter from \"./Filter/Filter\";\r\nimport HistoryItems from \"./HistoryItems/HistoryItems\";\r\nimport Button from \"../Button/Button\";\r\nimport Confirm from \"../Confirm/Confirm\";\r\nimport {getUser} from \"../../redux/account-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport add from './../../assets/images/add.svg';\r\nimport del from './../../assets/images/delete.svg';\r\nimport prev from '../../assets/images/prev.svg';\r\nimport next from '../../assets/images/next.svg';\r\nimport end from '../../assets/images/end.svg';\r\nimport start from '../../assets/images/start.svg';\r\nimport {expensesSelector, pagesSelector} from \"../../selectors/history-selectors\";\r\nimport {categoriesSelector} from \"../../selectors/settings-selector\";\r\nimport {isAuthSelector, isLoadingSelector} from \"../../selectors/account-selectors\";\r\nimport {getCategoriesThunkCreator} from \"../../redux/settings-reducer\";\r\n\r\nconst History: React.FC = (props: any) => {\r\n    const [filter, setFilter] = useState('noFilter');\r\n    const [sort, setSort] = useState('By Date');\r\n    const [descending, setDescending] = useState('Descending');\r\n    const [dateLower, setDateLower] = useState(new Date().setHours(0));\r\n    const [dateHigher, setDateHigher] = useState(new Date().setDate(new Date().getDate() + 1));\r\n    const [filterInRange, setFilterInRange] = useState(false);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [chosenItems, setChosenItems] = useState([]);\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [deleteFlag, setDeleteFlag] = useState(true);\r\n    const [checkedAll, setCheckedAll] = useState(false);\r\n\r\n    const sortValues = ['By Date', 'By Spent', 'By Categories', 'By Name', 'By Count'];\r\n\r\n    useEffect(() => {\r\n        props.getExpensesThunkCreator();\r\n        props.getUser();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        props.getExpensesThunkCreator(currentPage);\r\n    }, [currentPage, deleteFlag]);\r\n\r\n    const onChangeCurrentPage = (item: number) => {\r\n        props.getExpensesThunkCreator(item);\r\n        setCurrentPage(item || 0);\r\n    };\r\n\r\n    const onChangeDateLower = (date: any) => {\r\n        setDateLower(date);\r\n    };\r\n\r\n    const onChangeDateHigher = (date: any) => {\r\n        setDateHigher(date);\r\n    };\r\n\r\n    const onDeleteExpense = useCallback(() => {\r\n        props.deleteExpensesThunkCreator(chosenItems);\r\n        props.getExpensesThunkCreator(currentPage);\r\n        setCheckedAll(false);\r\n        setDeleteFlag(!deleteFlag);\r\n        setChosenItems([]);\r\n        setShowConfirm(false);\r\n    }, [chosenItems]);\r\n\r\n    const onShowConfirm = () => {\r\n        if (chosenItems.length) {\r\n            setShowConfirm(true)\r\n        }\r\n    };\r\n\r\n    let pages;\r\n\r\n    if (currentPage === props.pages) {\r\n        pages = props.pages > 2 ? [currentPage - 2, currentPage - 1, currentPage] : [currentPage - 1, currentPage];\r\n    } else if (currentPage === 1) {\r\n        pages = props.pages > 2 ? [currentPage, currentPage + 1, currentPage + 2] : [currentPage, currentPage + 1];\r\n    } else {\r\n        pages = [currentPage - 1, currentPage, currentPage + 1];\r\n    }\r\n\r\n    if (!props.isAuth) {\r\n        return <Redirect to={'login'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={'history'}>\r\n            <h2>History</h2>\r\n\r\n            <Confirm className={showConfirm ? 'confirm show': 'confirm'}\r\n                                    title={`Do you want delete ${chosenItems === null ? 0 : chosenItems.length} ${chosenItems.length === 1 ? 'item' : 'items'}?`}\r\n                                    func={onDeleteExpense} close={() => setShowConfirm(false)}/>\r\n\r\n            <Filter categories={props.categories} descending={descending} setDescending={setDescending} filter={filter}\r\n                    setFilter={setFilter} sort={sort} setSort={setSort} sortValues={sortValues} dateLower={dateLower}\r\n                    dateHigher={dateHigher} onChangeDateLower={onChangeDateLower}\r\n                    onChangeDateHigher={onChangeDateHigher} filterInRange={filterInRange}\r\n                    setFilterInRange={setFilterInRange}/>\r\n\r\n            <div style={props.isLoading ? {opacity: \".5\", pointerEvents: 'none'} : {}} className={'history__buttons'}>\r\n                <Button image={add} func={() => setShowForm(!showForm)} className={'button button--add'}\r\n                        title={''}/>\r\n                <Button image={del} func={onShowConfirm} className={'button button--delete'}\r\n                        title={`${chosenItems === null ? 0 : chosenItems.length}`}/>\r\n            </div>\r\n\r\n            <Form currentPage={currentPage} categories={props.categories} getExpensesThunkCreator={() => props.getExpensesThunkCreator(currentPage)} showForm={showForm} addExpenseThunkCreator={props.addExpenseThunkCreator}\r\n                  getCategoriesThunkCreator={props.getCategoriesThunkCreator}/>\r\n\r\n            <HistoryItems getExpensesThunkCreator={() => props.getExpensesThunkCreator(currentPage)} checkedAll={checkedAll} setCheckedAll={setCheckedAll} isLoading={props.isLoading}\r\n                          changeExpenseThunkCreator={props.changeExpenseThunkCreator}\r\n                          chosenItems={chosenItems} setChosenItems={setChosenItems} categories={props.categories}\r\n                          filter={filter} sort={sort} descending={descending} expenses={props.expenses}\r\n                          deleteExpense={props.deleteExpense} setExpenses={props.setExpenses}\r\n                          dateLower={dateLower} dateHigher={dateHigher} filterInRange={filterInRange}/>\r\n\r\n            {props.pages > 1 && <div className={'buttons'}>\r\n                <Button image={start} className={'button button--pages'} func={() => setCurrentPage(1)}/>\r\n                <Button image={prev} className={'button button--pages'}\r\n                        func={() => currentPage !== 1 && setCurrentPage(currentPage - 1)}/>\r\n\r\n                <div className={'pages'}>\r\n                    {pages.map((item: any) => <button className={'button'} key={item || 0}\r\n                                                      style={item === currentPage ? {fontWeight: 'bold'} : {}}\r\n                                                      onClick={() => onChangeCurrentPage(item)}>{item}</button>)}\r\n                </div>\r\n\r\n                <Button image={next} className={'button button--pages'}\r\n                        func={() => currentPage !== props.pages && setCurrentPage(currentPage + 1)}/>\r\n                <Button image={end} className={'button button--pages'} func={() => setCurrentPage(props.pages)}/>\r\n            </div>}\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nlet mapStateToProps = (store: any) => ({\r\n    expenses: expensesSelector(store),\r\n    pages: pagesSelector(store),\r\n    categories: categoriesSelector(store),\r\n    isAuth: isAuthSelector(store),\r\n    isLoading: isLoadingSelector(store),\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n    getUser, getExpensesThunkCreator, getExpenses, addExpenseThunkCreator,\r\n    deleteExpensesThunkCreator, changeExpenseThunkCreator, getCategoriesThunkCreator\r\n})(History);","import React, {useEffect, useState} from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport search from \"../../../assets/images/search.svg\";\r\nimport clear from \"../../../assets/images/clear.svg\";\r\n\r\ninterface Props {\r\n    dateHigher: any,\r\n    dateLower: any,\r\n    showForPeriod: boolean,\r\n\r\n    setDateLower(date: any): void,\r\n\r\n    setDateHigher(date: any): void,\r\n\r\n    setShowForPeriod(show: boolean): void,\r\n\r\n    setShowMoreInfo(show: boolean): void\r\n}\r\n\r\nconst Period: React.FC<Props> = (props) => {\r\n    const [filter, setFilter] = useState(false);\r\n\r\n    useEffect(() => {\r\n        onSetPeriod(filter);\r\n    }, [filter]);\r\n\r\n    const onChangeDateLower = (date: any) => {\r\n        props.setDateLower(date);\r\n    };\r\n    const onChangeDateHigher = (date: any) => {\r\n        props.setDateHigher(date);\r\n    };\r\n    const onSetPeriod = (showForPeriod: boolean) => {\r\n        props.setShowForPeriod(showForPeriod);\r\n        props.setShowMoreInfo(false);\r\n    };\r\n\r\n    const onToggleFilter = () => {\r\n        setFilter(!filter);\r\n    };\r\n\r\n    return (\r\n        <div className={'period'}>\r\n            <div className={'dates'}>\r\n                <div className={'dates__element'}>\r\n                    <p>From:</p>\r\n                    <DatePicker maxDate={props.dateHigher} showTimeSelect onChange={onChangeDateLower} selected={props.dateLower}/>\r\n                </div>\r\n                <div className={'dates__element'}>\r\n                    <p>To:</p>\r\n                    <DatePicker minDate={props.dateLower} showTimeSelect disabled={props.dateLower > props.dateHigher}\r\n                                onChange={onChangeDateHigher} selected={props.dateHigher}/>\r\n                </div>\r\n            </div>\r\n\r\n            <input onChange={onToggleFilter} id='dark-check' type=\"checkbox\"/>\r\n            <label className='dark-mode' htmlFor=\"dark-check\">\r\n                <div className='toggle'\r\n                     style={filter ? {backgroundImage: `url(${clear})`, backgroundColor: '#FF7777'} : {backgroundImage: `url(${search})`}}/>\r\n            </label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Period;","import React from \"react\";\r\nimport {Bar, Line} from 'react-chartjs-2';\r\nimport {CategoryType} from \"../../../redux/settings-reducer\";\r\nimport { Expenses } from \"../Analytics\";\r\n\r\ninterface Props {\r\n    dateLower: Date,\r\n    dateHigher: Date,\r\n    categories: Array<CategoryType>,\r\n    title: string,\r\n    showExpensesPerDay: boolean,\r\n    showMoreInfo: boolean,\r\n    moreInfo: any,\r\n    expenses: Array<Expenses>\r\n\r\n    findTotalSpending(): number,\r\n\r\n    findBiggerSpent(): Array<JSX.Element>,\r\n\r\n    chartsFunc(): any,\r\n    lineChart(): any\r\n\r\n    showMoreDetailsForCategory(item: string): void\r\n}\r\n\r\nconst AnalyticsInfo: React.FC<Props> = (props) => {\r\n    const categories = props.chartsFunc();\r\n    const expenses = [...props.expenses];\r\n\r\n    const diff = Math.ceil(({...expenses[0]}.id - {...expenses[props.expenses.length - 1]}.id) / 86400000);\r\n\r\n    const barData = {\r\n        labels: categories.map((item: any) => item.category),\r\n        datasets: [{\r\n            label: 'Spent',\r\n            data: categories.map((item: any) => item.spent),\r\n            backgroundColor: categories.map((item: any) => `rgba(${0 + item.spent}, ${255 / (item.spent * .1)}, ${255 / (item.spent * .5)}, 0.2)`),\r\n            borderColor: categories.map((item: any) => `rgba(${0 + item.spent}, ${255 / (item.spent * .1)}, ${255 / (item.spent * .5)}, 1)`),\r\n            borderWidth: 1,\r\n            hoverBackgroundColor: 'white',\r\n            maxBarThickness: 100\r\n        }],\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className={'analytics__header'}>\r\n                {props.children}\r\n\r\n                <div className={'cards'}>\r\n                    <div className={'cards__item'}>\r\n                        <h3>Total spent:</h3>\r\n                        <p>{props.findTotalSpending()}</p>\r\n                    </div>\r\n                    <div className={'cards__item'}>\r\n                        <h3>Most spent for:</h3>\r\n                        {props.findBiggerSpent()}\r\n                    </div>\r\n                    {props.showExpensesPerDay ? <div className={'cards__item'}>\r\n                        <h3>Average spending per day:</h3>\r\n                        {Math.ceil(props.findTotalSpending() / Math.ceil((+props.dateHigher - +props.dateLower) / 86400000))}\r\n                    </div> : <div className={'cards__item'}>\r\n                        <h3>Average spending per day:</h3>\r\n                        {Math.ceil(props.findTotalSpending() / diff) || 0}\r\n                    </div>}\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div className={'analytics__wrapper'}>\r\n                <h3>{props.title}</h3>\r\n\r\n                <div className={'analytics__info'}>\r\n                    <div className={'analytics__info__item'}>\r\n                        <h3>All-time expenses:</h3>\r\n                        <div className={'analytics__categories'}>\r\n                            <Line data={props.lineChart()} height={100}/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={'analytics__info__item'}>\r\n                        <h3>Expenses by categories:</h3>\r\n                        <p>Click the column to see the details below.</p>\r\n                        <div className={'analytics__categories'}>\r\n                            <Bar data={barData} height={100}\r\n                                 getElementAtEvent={e => props.showMoreDetailsForCategory(e[0] && e[0]._chart.config.data.labels[e[0]._index])}/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {props.showMoreInfo && <div className={'analytics__info__item detail-info'}>\r\n                        <div className={'header'}>\r\n                            <p>Name</p>\r\n                            <p>Category</p>\r\n                            <p>Price</p>\r\n                            <p>Count</p>\r\n                            <p>Spent</p>\r\n                            <p>Date</p>\r\n                        </div>\r\n\r\n                        {props.moreInfo.map((item: any) =>\r\n                            <div key={item.id} className={'more-info'}>\r\n                                <p>{item.name}</p>\r\n                                <p>{item.category}</p>\r\n                                <p>{item.price}</p>\r\n                                <p>{item.count}</p>\r\n                                <p>{item.spent}</p>\r\n                                <p>{item.date}</p>\r\n                            </div>)}\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\n\r\nexport default AnalyticsInfo;","import React from \"react\";\r\n\r\ninterface Props {\r\n    id: number\r\n    name: string\r\n    spent: number\r\n    date: Date\r\n}\r\n\r\nconst BiggestExpense: React.FC<Props> = (props) => {\r\n    return (\r\n        <div className={'biggest-spending'} key={props.id}>\r\n            <p>Name:</p>\r\n            <span>{props.name}</span>\r\n            <p>Spent:</p>\r\n            <span>{props.spent}</span>\r\n            <p>Date:</p>\r\n            <span>{props.date}</span>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default BiggestExpense;","import React, {useEffect, useState} from \"react\";\r\nimport './analytics.scss';\r\nimport {connect} from \"react-redux\";\r\nimport Period from \"./Period/Period\";\r\nimport {getAllExpensesThunkCreator} from \"../../redux/history-reducer\";\r\nimport AnalyticsInfo from \"./AnalyticsInfo/AnalyticsInfo\";\r\nimport {\r\n    addCategoriesThunkCreator,\r\n    CategoryType,\r\n    getCategories,\r\n    getCategoriesThunkCreator\r\n} from \"../../redux/settings-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {categoriesSelector} from \"../../selectors/settings-selector\";\r\nimport {isAuthSelector} from \"../../selectors/account-selectors\";\r\nimport {expensesSelector, pagesSelector} from \"../../selectors/history-selectors\";\r\nimport BiggestExpense from \"./BiggestExpense/BiggestExpense\";\r\n\r\nexport type Expenses = {\r\n    id: number\r\n    category: string\r\n    spent: number,\r\n    name: string,\r\n    date: Date\r\n}\r\n\r\ntype CategoriesForAnalytics = {\r\n    category: string,\r\n    spent: number,\r\n    expenses: Array<Expenses>\r\n}\r\n\r\nconst Analytics = (props: any) => {\r\n    const [dateLower, setDateLower] = useState(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate(), 0, 0, 0));\r\n    const [dateHigher, setDateHigher] = useState(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 1, 0, 0, 0));\r\n    const [showForPeriod, setShowForPeriod] = useState(false);\r\n    const [showMoreInfo, setShowMoreInfo] = useState(false);\r\n    const [moreInfo, setMoreInfo] = useState({});\r\n\r\n    useEffect(() => {\r\n        props.getAllExpensesThunkCreator();\r\n        props.getCategoriesThunkCreator();\r\n    }, []);\r\n\r\n    const findTotalSpending = () => {\r\n        return [...props.expenses].reduce((sum: any, item: any) => sum + item.spent, 0);\r\n    };\r\n    const findTotalSpendingForPeriod = () => {\r\n        return [...props.expenses].filter((item: Expenses) => new Date(item.id) > dateLower && new Date(item.id) < dateHigher).reduce((sum: any, item: any) => sum + item.spent, 0)\r\n    };\r\n\r\n    const showMoreDetailsForCategory = (category: string) => {\r\n        setShowMoreInfo(true);\r\n        setMoreInfo([...props.expenses]\r\n            .filter((item: any) => item.category === category));\r\n    };\r\n    const showMoreDetailsForCategoryForPeriod = (category: string) => {\r\n        setShowMoreInfo(true);\r\n        setMoreInfo([...props.expenses]\r\n            .filter((item: Expenses) => new Date(item.id) > dateLower && new Date(item.id) < dateHigher)\r\n            .filter((item: Expenses) => item.category === category));\r\n    };\r\n\r\n    const defineChartInfo = (forPeriod: boolean) => {\r\n        let categories: Array<CategoriesForAnalytics> = [];\r\n\r\n        props.categories.forEach((category: CategoryType) => categories.push({\r\n            category: category.name,\r\n            spent: forPeriod ?\r\n                [...props.expenses].filter((item: Expenses) => new Date(item.id) > dateLower && new Date(item.id) < dateHigher && item.category === category.name).reduce((sum: number, elem: Expenses) => sum + elem.spent, 0) :\r\n                [...props.expenses].filter((item: Expenses) => item.category === category.name).reduce((sum: number, elem: any) => sum + elem.spent, 0),\r\n            expenses: forPeriod ? [...props.expenses].filter((item: Expenses) => new Date(item.id) > dateLower && new Date(item.id) < dateHigher && item.category === category.name) : [...props.expenses].filter((item: Expenses) => item.category === category.name),\r\n        }));\r\n\r\n        return categories.filter(item => item.spent !== 0).sort((a, b) => a.spent - b.spent);\r\n    };\r\n    const chartsFunc = () => defineChartInfo(false);\r\n    const chartsFuncForPeriod = () => defineChartInfo(true);\r\n\r\n    const defineLineChartInfo = (forPeriod: boolean) => {\r\n        const lineChartData: Array<string> = [];\r\n\r\n        forPeriod ?\r\n            [...props.expenses]\r\n                .filter((item: Expenses) => new Date(item.id) > dateLower && new Date(item.id) < dateHigher)\r\n                .forEach((item: Expenses) => {\r\n                    lineChartData.push(`${new Date(item.id).getDate()}.${new Date(item.id).getMonth() + 1}.${new Date(item.id).getFullYear()}`)\r\n                }) :\r\n            [...props.expenses]\r\n                .forEach((item: Expenses) => {\r\n                    lineChartData.push(`${new Date(item.id).getDate()}.${new Date(item.id).getMonth() + 1}.${new Date(item.id).getFullYear()}`)\r\n                });\r\n\r\n        const newLineDates: Set<string> = new Set(lineChartData);\r\n\r\n        interface ExpenseForAnalytics {\r\n            date: string\r\n            expenses: Expenses\r\n        }\r\n\r\n        const expensesByDates: Array<ExpenseForAnalytics> = [];\r\n\r\n        newLineDates.forEach((date: string) => {\r\n            expensesByDates.push({\r\n                date,\r\n                expenses: forPeriod ?\r\n                    [...props.expenses]\r\n                        .filter((item: Expenses) => new Date(item.id) > dateLower && new Date(item.id) < dateHigher)\r\n                        .filter((item: Expenses) => `${new Date(item.id).getDate()}.${new Date(item.id).getMonth() + 1}.${new Date(item.id).getFullYear()}` === date)\r\n                        .reduce((acc: number, item: Expenses) => acc + +item.spent, 0) :\r\n                    [...props.expenses]\r\n                        .filter((item: Expenses) => `${new Date(item.id).getDate()}.${new Date(item.id).getMonth() + 1}.${new Date(item.id).getFullYear()}` === date)\r\n                        .reduce((acc: number, item: Expenses) => acc + +item.spent, 0),\r\n            });\r\n        });\r\n\r\n        return {\r\n            labels: [...Array.from(newLineDates)].reverse(),\r\n            datasets: [{\r\n                label: 'Spent',\r\n                data: [...expensesByDates.map((item: ExpenseForAnalytics) => item.expenses)].reverse(),\r\n                backgroundColor: 'rgba(68, 138, 255, 0.2)',\r\n                borderWidth: 1,\r\n                hoverBackgroundColor: 'white'\r\n            }],\r\n        };\r\n    };\r\n    const lineChart = () => defineLineChartInfo(false);\r\n    const lineChartForPeriod = () => defineLineChartInfo(true);\r\n\r\n    const findBiggerSpentForPeriod = () => {\r\n        return [...props.expenses]\r\n            .filter((item: Expenses) => new Date(item.id) >= dateLower && new Date(item.id) <= dateHigher && item.spent === Math.max(...props.expenses.filter((item: Expenses) => item.id >= +dateLower && item.id <= +dateHigher)\r\n            .map((item: Expenses) => item.spent)))\r\n            .map((item: Expenses) => <BiggestExpense id={item.id} name={item.name} spent={item.spent} date={item.date}/>)\r\n    };\r\n    const findBiggerSpent = () => {\r\n        return [...props.expenses]\r\n            .filter((item: Expenses) => item.spent === Math.max(...props.expenses.map((item: Expenses) => item.spent)))\r\n            .map((item: Expenses) => <BiggestExpense id={item.id} name={item.name} spent={item.spent} date={item.date}/>)\r\n    };\r\n\r\n    if (!props.isAuth) {\r\n        return <Redirect to={'login'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={'analytics'}>\r\n            <h2>Analytics</h2>\r\n\r\n            <AnalyticsInfo expenses={props.expenses} lineChart={showForPeriod ? lineChartForPeriod : lineChart}\r\n                           showMoreDetailsForCategory={showForPeriod ? showMoreDetailsForCategoryForPeriod : showMoreDetailsForCategory}\r\n                           moreInfo={moreInfo}\r\n                           chartsFunc={showForPeriod ? chartsFuncForPeriod : chartsFunc} showMoreInfo={showMoreInfo}\r\n                           showExpensesPerDay={showForPeriod}\r\n                           dateLower={dateLower} dateHigher={dateHigher}\r\n                           categories={props.categories}\r\n                           title={showForPeriod ? 'Analytics for the time period' : 'Summary analytics'}\r\n                           findTotalSpending={showForPeriod ? findTotalSpendingForPeriod : findTotalSpending}\r\n                           findBiggerSpent={showForPeriod ? findBiggerSpentForPeriod : findBiggerSpent}>\r\n                <Period setShowMoreInfo={setShowMoreInfo} dateHigher={dateHigher}\r\n                        dateLower={dateLower}\r\n                        setDateLower={setDateLower}\r\n                        setDateHigher={setDateHigher} showForPeriod={showForPeriod}\r\n                        setShowForPeriod={setShowForPeriod}/>\r\n            </AnalyticsInfo>\r\n\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (store: any) => ({\r\n    expenses: expensesSelector(store),\r\n    categories: categoriesSelector(store),\r\n    isAuth: isAuthSelector(store),\r\n    pages: pagesSelector(store),\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n    getCategories,\r\n    getAllExpensesThunkCreator,\r\n    getCategoriesThunkCreator,\r\n    addCategoriesThunkCreator\r\n})(Analytics);","import React, {useState} from \"react\";\r\nimport Button from \"../Button/Button\";\r\nimport next from \"../../assets/images/about.svg\";\r\nimport './intro.scss';\r\n\r\nconst Intro = () => {\r\n    const [showIntro, setShowIntro] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            {showIntro && <>\r\n                <div className={'backdrop'}/>\r\n            </>}\r\n\r\n            <Button image={next} className={!showIntro ? 'button button--about' : 'button button--about active'} func={() => setShowIntro(!showIntro)}/>\r\n\r\n            {showIntro && <div className={'intro'}>\r\n                <p>This app helps you to track your expenses in time, check some info according to your expenses (the\r\n                    biggest expense, expenses by categories, spending per day for some period, etc.)</p>\r\n                <p>App based on <b>MERN</b> stack. I've used a <b>JWT token</b> (expires every 2 minutes) with refresh\r\n                    token to identify user, so it's safe enough. Also, Analyzer doesn't send an invitation to email you\r\n                    mention, so you can register with a fake email for test purposes. For example:</p>\r\n                <div>\r\n                    <p><b>Nickname (at least 6 characters):</b></p> <span>UserExample</span>\r\n                    <p><b>Email:</b></p> <span>example@mail.com</span>\r\n                    <p><b>Password (at least 6 characters):</b></p> <span>1234567</span>\r\n                </div>\r\n            </div>}\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Intro;","import React, {useEffect, useState} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUser, userLoginThunkCreator} from \"../../redux/account-reducer\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport './login.scss';\r\nimport Loader from \"../Loader/Loader\";\r\nimport {\r\n    infoSelector,\r\n    isAuthSelector,\r\n    isLoadingSelector,\r\n    isLoginLoadingSelector\r\n} from \"../../selectors/account-selectors\";\r\nimport Intro from \"../Intro/Intro\";\r\n\r\ntype Props = {\r\n    isAuth: boolean,\r\n    isLoading: boolean,\r\n    isLoginLoading: boolean,\r\n    info: string,\r\n    userLoginThunkCreator: (email: string, password: string) => void,\r\n    getUser: () => void,\r\n    history: Array<string>\r\n}\r\n\r\nconst Login: React.FC<Props> = (props) => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        props.getUser();\r\n    }, []);\r\n\r\n    const onLoginClick = () => {\r\n        props.userLoginThunkCreator(email, password);\r\n    };\r\n\r\n    const onRegisterClick = () => {\r\n        props.history.push('register');\r\n    };\r\n\r\n\r\n    if (!props.isAuth) {\r\n        return (\r\n            <>\r\n                {\r\n                    props.isLoginLoading ? <Loader/> : <form className={'login'}>\r\n                        <h3>Login</h3>\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)}/>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)}/>\r\n                        <div>\r\n                            <button className={'button'} onClick={onLoginClick}>Sign In</button>\r\n                            or\r\n                            <button className={'button'} onClick={onRegisterClick}>Sign Up</button>\r\n                        </div>\r\n                        <p className={'error-message'}>{props.info === 'ok' ? null : props.info}</p>\r\n                    </form>\r\n                }\r\n                <Intro/>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return <Redirect to={'/history'}/>\r\n\r\n};\r\n\r\nconst mapStateToProps = (store: any) => ({\r\n    isAuth: isAuthSelector(store),\r\n    isLoading: isLoadingSelector(store),\r\n    isLoginLoading: isLoginLoadingSelector(store),\r\n    info: infoSelector(store),\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {userLoginThunkCreator, getUser}),\r\n    withRouter\r\n)(Login);","import React, {useEffect, useState} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUser, userRegisterThunkCreator} from \"../../redux/account-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport './../Login/login.scss';\r\nimport Loader from \"../Loader/Loader\";\r\nimport {infoSelector, isLoginLoadingSelector} from \"../../selectors/account-selectors\";\r\nimport Intro from \"../Intro/Intro\";\r\n\r\ntype Props = {\r\n    isLoginLoading: boolean,\r\n    info: string,\r\n    userRegisterThunkCreator: (name: string, email: string, password: string) => void,\r\n    getUser: () => void,\r\n    history: Array<string>\r\n}\r\n\r\nconst Register: React.FC<Props> = (props) => {\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        props.getUser();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (props.info === 'ok') {\r\n            props.history.push('login');\r\n        }\r\n    }, [props.info]);\r\n\r\n    const registrationHandler = () => {\r\n        props.userRegisterThunkCreator(name, email, password);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {props.isLoginLoading ? <Loader/> : <form className={'login'}>\r\n                <h3>Registration</h3>\r\n                <label htmlFor=\"name\">Name</label>\r\n                <input id={'name'} type=\"text\" value={name} onChange={(e) => setName(e.target.value)}/>\r\n                <label htmlFor=\"name\">Email</label>\r\n                <input id={'email'} type=\"text\" value={email} onChange={(e) => setEmail(e.target.value)}/>\r\n                <label htmlFor=\"name\">Password</label>\r\n                <input id={'password'} type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)}/>\r\n                <div>\r\n                    <button className={'button'} onClick={registrationHandler}>Register</button>\r\n                </div>\r\n                <p className={'error-message'}>{props.info !== 'ok' && props.info}</p>\r\n            </form>\r\n            }\r\n            <Intro/>\r\n        </>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (store: any) => ({\r\n    isLoginLoading: isLoginLoadingSelector(store),\r\n    info: infoSelector(store),\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {userRegisterThunkCreator, getUser}),\r\n    withRouter\r\n)(Register);","import React from 'react';\nimport './assets/styles/styles.scss';\nimport Menu from \"./components/Menu/Menu\";\nimport History from \"./components/History/History\";\nimport Analytics from \"./components/Analytics/Analytics\";\nimport {Redirect, Route, Switch} from 'react-router-dom';\nimport {withLoading} from \"./HOC/withLoadingSuspense\";\nimport Login from \"./components/Login/Login\";\nimport Register from \"./components/Register/Register\";\n\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\n\n\nconst App = () => {\n    \n    const SettingsLoading = withLoading(Settings);\n\n    return (\n        <div className=\"App\">\n                <Menu/>\n                <div className={'content'}>\n                    <Switch>\n                        // @ts-ignore\n                        <Route path={'/login'} render={() => <Login/>}/>\n                        // @ts-ignore\n                        <Route path={'/register'} render={() => <Register/>}/>\n                        <Route path={'/history'} render={() => <History/>}/>\n                        <Route path={'/analytics'} render={() => <Analytics/>}/>\n                        <Route path={'/settings'} render={() => <SettingsLoading/>}/>\n                        <Redirect to={'/history'}/>\n                    </Switch>\n            </div>\n        </div>\n    );\n};\n\nexport default App;\n","import React from \"react\";\r\nimport loading from './../assets/images/loading-1.svg'\r\n\r\nexport const withLoading = (Component: any) => {\r\n    return () => {\r\n        return <React.Suspense fallback={<img src={loading} alt=\"\"/>}>\r\n            <Component/>\r\n        </React.Suspense>\r\n    };\r\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the client load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web client is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different client. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport accountReducer from \"./account-reducer\";\r\nimport historyReducer from \"./history-reducer\";\r\nimport settingsReducer from \"./settings-reducer\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\n\r\nconst reducers = combineReducers({\r\n    account: accountReducer,\r\n    history: historyReducer,\r\n    settings: settingsReducer,\r\n});\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n\r\n// @ts-ignore\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {HashRouter} from 'react-router-dom';\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/redux-store\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your client to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from \"react\";\r\nimport loader from '../../assets/images/loading-1.svg';\r\nimport './loader.scss';\r\n\r\nconst Loader = () => <img className={'loader'} src={loader} alt=\"\"/>;\r\n\r\nexport default Loader;","export const expensesSelector = (store) => {\r\n    return store.history.expenses;\r\n};\r\n\r\nexport const pagesSelector = (store) => {\r\n    return store.history.pages;\r\n};","import React from \"react\";\r\nimport './confirm.scss';\r\nimport cancel from '../../assets/images/cancel.svg';\r\nimport confirm from '../../assets/images/confirm.svg';\r\n\r\ninterface Props {\r\n    title: string,\r\n    className: string,\r\n    func(): any,\r\n    close(): any,\r\n}\r\n\r\nconst Confirm: React.FC<Props> = (props) => {\r\n    return (\r\n        <div className={props.className}>\r\n            <p>{props.title}</p>\r\n            <div className={'buttons'}>\r\n                <div>\r\n                    <button className={'button button--confirm'} onClick={props.func}>\r\n                        <img src={confirm} alt=\"\"/>\r\n                    </button>\r\n                    <p>Yes</p>\r\n                </div>\r\n                <div>\r\n                    <button className={'button button--reject'} onClick={props.close}>\r\n                        <img src={cancel} alt=\"\"/>\r\n                    </button>\r\n                    <p>No</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Confirm;","export const categoriesSelector = (store) => {\r\n    return store.settings.categories;\r\n};","module.exports = __webpack_public_path__ + \"static/media/save.33e01ffd.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.234c234c.svg\";","module.exports = __webpack_public_path__ + \"static/media/clear.cbf86002.svg\";","import {authAPI, baseURL, refreshToken} from \"../api/api\";\r\nimport {getExpenses} from \"./history-reducer\";\r\nimport axios from \"axios\";\r\nimport {ActionCreator} from \"./interfaces\";\r\nimport { Dispatch } from \"redux\";\r\n\r\nconst USER_LOGIN = 'USER_LOGIN';\r\nconst GET_USER = 'GET_USER';\r\nconst SHOW_LOADING = 'SHOW_LOADING';\r\nconst LOGIN_LOADING = 'LOGIN_LOADING';\r\nconst INFO = 'INFO';\r\n\r\ntype InitialState = {\r\n    isAuth: boolean,\r\n    isLoading: boolean,\r\n    isLoginLoading: boolean,\r\n    info: string,\r\n}\r\n\r\nconst initialState: InitialState = {\r\n    isAuth: !!localStorage.getItem('isAuth') || false,\r\n    isLoading: false,\r\n    isLoginLoading: false,\r\n    info: '',\r\n};\r\n\r\nconst accountReducer = (state = initialState, action: any) => {\r\n    switch (action.type) {\r\n        case SHOW_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading,\r\n            };\r\n        case INFO:\r\n            return {\r\n                ...state,\r\n                info: action.info,\r\n            };\r\n        case LOGIN_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoginLoading: action.isLoading,\r\n            };\r\n        case USER_LOGIN: {\r\n            localStorage.setItem('isAuth', JSON.stringify(action.isAuth));\r\n            return {...state, isAuth: action.isAuth};\r\n        }\r\n        case GET_USER: {\r\n            const isAuth = JSON.parse(localStorage.getItem('isAuth') || '[]') || false;\r\n            return {...state, isAuth};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const userLogin = (isAuth: boolean): ActionCreator<typeof USER_LOGIN> => ({type: USER_LOGIN, isAuth});\r\nexport const setInfo = (info: string): ActionCreator<typeof INFO> => ({type: INFO, info});\r\nexport const getUser = (): ActionCreator<typeof GET_USER> => ({type: GET_USER});\r\nexport const showLoading = (isLoading: boolean): ActionCreator<typeof SHOW_LOADING> => ({type: SHOW_LOADING, isLoading});\r\nexport const loginLoading = (isLoading: boolean): ActionCreator<typeof LOGIN_LOADING> => ({type: LOGIN_LOADING, isLoading});\r\n\r\nexport const userLoginThunkCreator = (email: string, password: string) => async (dispatch: Dispatch) => {\r\n    dispatch(loginLoading(true));\r\n\r\n    try {\r\n        const response = await axios.post(`${baseURL}/user/login`, {email, password}, {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n        if (response.data) {\r\n            localStorage.setItem('token', response.data.token);\r\n            localStorage.setItem('refreshToken', response.data.refreshToken);\r\n            dispatch(loginLoading(false));\r\n            dispatch(userLogin(true));\r\n        }\r\n    } catch (e) {\r\n        dispatch(loginLoading(false));\r\n        dispatch(userLogin(false));\r\n        dispatch(setInfo(e.response.data));\r\n    }\r\n};\r\n\r\nexport const userRegisterThunkCreator = (name: string, email: string, password: string) => async (dispatch: Dispatch) => {\r\n    dispatch(loginLoading(true));\r\n\r\n    try {\r\n        const response = await authAPI.register(name, email, password);\r\n        if (response.data) {\r\n            dispatch(loginLoading(false));\r\n            dispatch(userLogin(false));\r\n            dispatch(setInfo('ok'));\r\n        }\r\n    } catch (e) {\r\n        dispatch(loginLoading(false));\r\n        dispatch(setInfo(e.response.data));\r\n    }\r\n};\r\n\r\nexport const userLogoutThunkCreator = () => async (dispatch: Dispatch) => {\r\n    dispatch(userLogin(false));\r\n    dispatch(getExpenses([]));\r\n\r\n    try {\r\n        await axios.post(`${baseURL}/user/logout`, {}, {\r\n            headers: {\r\n                'token': `${localStorage.getItem('token')}`\r\n            }\r\n        });\r\n\r\n        localStorage.setItem('token', '');\r\n        localStorage.setItem('refreshToken', '');\r\n    } catch (e) {\r\n        await refreshToken('/user/logout', {}, axios.post, dispatch);\r\n\r\n        localStorage.setItem('token', '');\r\n        localStorage.setItem('refreshToken', '');\r\n    }\r\n};\r\n\r\nexport default accountReducer;","module.exports = __webpack_public_path__ + \"static/media/loading-1.e42ec6d6.svg\";"],"sourceRoot":""}