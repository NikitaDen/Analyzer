{"version":3,"sources":["assets/images/logout.svg","assets/images/cancel.svg","assets/images/confirm.svg","assets/images/edit.svg","assets/images/empty.svg","assets/images/nodata.svg","assets/images/add.svg","assets/images/delete.svg","assets/images/prev.svg","assets/images/next.svg","assets/images/end.svg","assets/images/start.svg","selectors/account-selectors.js","components/Button/Button.tsx","components/Menu/Menu.tsx","components/History/Form/Form.tsx","components/History/Filter/ItemDates/ItemDates.tsx","components/History/Filter/ItemFilter/ItemFilter.tsx","components/History/Filter/ItemSort/ItemSort.tsx","components/History/Filter/ItemDirection/ItemDirection.tsx","components/History/Filter/Filter.tsx","components/History/Expense/Expense.tsx","components/History/TableHeader/TableHeader.tsx","components/History/HistoryItems/HistoryItems.tsx","selectors/history-selectors.js","components/History/History.tsx","components/Analytics/Period/Period.tsx","components/Analytics/AnalyticsInfo/AnalyticsInfo.tsx","components/Analytics/Chart/Chart.tsx","components/Analytics/Analytics.tsx","components/Intro/Intro.tsx","components/Login/Login.tsx","components/Register/Register.tsx","App.tsx","HOC/withLoadingSuspense.tsx","serviceWorker.ts","redux/analytics-reducer.ts","redux/redux-store.ts","index.tsx","redux/history-reducer.ts","redux/settings-reducer.ts","assets/images/separator.svg","components/Loader/Loader.tsx","redux/account-reducer.ts","components/Confirm/Confirm.tsx","selectors/settings-selector.js","assets/images/save.svg","assets/images/search.svg","assets/images/clear.svg","api/api.js","assets/images/loading-1.svg","assets/images/history.svg","assets/images/analytics.svg","assets/images/settings.svg"],"names":["module","exports","isAuthSelector","store","account","isAuth","isLoadingSelector","isLoading","isLoginLoadingSelector","isLoginLoading","infoSelector","info","Button","props","disabled","className","onClick","func","src","image","alt","title","connect","userLogoutThunkCreator","to","history","analytics","settings","infoF","logout","Form","useState","name","setName","category","setCategory","price","setPrice","count","setCount","error","setError","useEffect","getCategoriesThunkCreator","categories","length","showForm","htmlFor","type","autoFocus","id","value","onChange","e","target","map","item","key","min","parseInt","replace","addExpenseThunkCreator","spent","Date","now","save","ItemDates","filter","setFilter","setFilterInRange","maxDate","dateHigher","showTimeSelect","onChangeDateLower","selected","dateLower","minDate","onChangeDateHigher","style","backgroundImage","clear","backgroundColor","search","ItemFilter","ItemSort","sort","setSort","sortValues","ItemDirection","descending","setDescending","Filter","filterInRange","Expense","editMode","setEditMode","setSpent","showConfirm","setShowConfirm","checkedAll","checked","setChecked","object","chosenItems","Symbol","iterator","setChosenItems","Array","from","Set","splice","indexOf","Confirm","deleteExpense","close","currentTarget","date","changeExpenseThunkCreator","edit","React","memo","chooseAllItems","separator","HistoryItems","items","expenses","defineSort","reverse","compareNames","a","b","toLowerCase","compareCategory","expense","useCallback","setCheckedAll","Loader","noData","empty","expensesSelector","pagesSelector","pages","categoriesSelector","getUser","getExpensesThunkCreator","getExpenses","deleteExpensesThunkCreator","setHours","setDateLower","setDate","getDate","setDateHigher","setShowForm","currentPage","setCurrentPage","deleteFlag","setDeleteFlag","onDeleteExpense","opacity","pointerEvents","add","del","setExpenses","start","prev","fontWeight","next","end","Period","onSetPeriod","showForPeriod","setShowForPeriod","setShowMoreInfo","AnalyticsInfo","findTotalSpending","findBiggerSpent","findSpentCategory","showMoreInfo","moreInfo","showExpensesPerDay","Math","ceil","Chart","width","height","sum","getCategories","getAllExpensesThunkCreator","addCategoriesThunkCreator","getFullYear","getMonth","setMoreInfo","reduce","forEach","push","elem","max","Intro","compose","userLoginThunkCreator","userRegisterThunkCreator","setInfo","withRouter","email","setEmail","password","setPassword","Settings","lazy","App","Component","SettingsLoading","Suspense","fallback","loading","path","render","Boolean","window","location","hostname","match","initialState","analyticsReducer","state","action","reducers","combineReducers","accountReducer","historyReducer","settingsReducer","createStore","applyMiddleware","thunkMiddleWare","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message","limit","addExpense","dispatch","showLoading","historyAPI","token","localStorage","getItem","axios","baseURL","response","data","setItem","toLocaleString","headers","userLogin","getPages","page","allExpenses","changeExpense","includes","addCategory","settingsAPI","deleteCategory","deleteCategoryThunkCreator","loader","loginLoading","refreshToken","log","authAPI","register","statusText","JSON","stringify","parse","confirm","cancel","instance","post","get","put"],"mappings":"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","file":"static/js/main.e708aa7f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logout.8b4c5e56.svg\";","module.exports = __webpack_public_path__ + \"static/media/cancel.7aea8764.svg\";","module.exports = __webpack_public_path__ + \"static/media/confirm.a8562565.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit.b79003c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.7cc6dd27.svg\";","module.exports = __webpack_public_path__ + \"static/media/nodata.2d46dca5.svg\";","module.exports = __webpack_public_path__ + \"static/media/add.fc75b7e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.fa5e6b6a.svg\";","module.exports = __webpack_public_path__ + \"static/media/prev.bb69c57d.svg\";","module.exports = __webpack_public_path__ + \"static/media/next.a68f625a.svg\";","module.exports = __webpack_public_path__ + \"static/media/end.4ac8d67a.svg\";","module.exports = __webpack_public_path__ + \"static/media/start.156456ab.svg\";","export const isAuthSelector = (store) => {\r\n    return store.account.isAuth;\r\n};\r\n\r\nexport const isLoadingSelector = (store) => {\r\n    return store.account.isLoading;\r\n};\r\n\r\nexport const isLoginLoadingSelector = (store) => {\r\n    return store.account.isLoginLoading;\r\n};\r\nexport const infoSelector = (store) => {\r\n    return store.account.info;\r\n};","import React from \"react\";\r\n\r\ninterface Props {\r\n    image: string,\r\n    className: string,\r\n    title?: string,\r\n    disabled?: boolean,\r\n    func(val?: any): void,\r\n}\r\n\r\nconst Button: React.FC<Props> = (props) => {\r\n    return (\r\n        <button disabled={props.disabled} className={props.className} onClick={props.func}>\r\n            <img src={props.image} alt=\"\"/>\r\n            {props.title ? <p>{props.title}</p> : null}\r\n        </button>\r\n    )\r\n};\r\n\r\nexport default Button;","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport './menu.scss';\r\nimport history from './../../assets/images/history.svg';\r\nimport analytics from './../../assets/images/analytics.svg';\r\nimport settings from './../../assets/images/settings.svg';\r\nimport {connect} from \"react-redux\";\r\nimport {userLogoutThunkCreator} from \"../../redux/account-reducer\";\r\nimport Button from \"../Button/Button\";\r\nimport logout from './../../assets/images/logout.svg';\r\nimport {isAuthSelector} from \"../../selectors/account-selectors\";\r\n\r\nconst Menu = (props: any) => {\r\n    return (\r\n        <nav>\r\n            <NavLink to={'/history'}>\r\n                <p>History</p>\r\n                <img src={history} alt=\"\"/>\r\n            </NavLink>\r\n            <NavLink to={'/analytics'}>\r\n                <p>Analytics</p>\r\n                <img src={analytics} alt=\"\"/>\r\n            </NavLink>\r\n            <NavLink to={'/settings'}>\r\n                <p>Settings</p>\r\n                <img src={settings} alt=\"\"/>\r\n            </NavLink>\r\n            <p>{props.infoF}</p>\r\n\r\n            <div className={'login-buttons'}>\r\n                {props.isAuth ? <>\r\n                    <Button image={logout} className={'button button--logout'}\r\n                            func={() => props.userLogoutThunkCreator()} title={'Logout'}/>\r\n                </> : null}\r\n            </div>\r\n        </nav>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (store: any) => ({\r\n    isAuth: isAuthSelector(store),\r\n});\r\n\r\nexport default connect(mapStateToProps, {userLogoutThunkCreator})(Menu);","import React, {useEffect, useState} from \"react\";\r\nimport './form.scss';\r\nimport save from './../../../assets/images/save.svg';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ninterface Props {\r\n    categories: any,\r\n    showForm: boolean,\r\n    currentPage: number,\r\n    getCategoriesThunkCreator(): void,\r\n    addExpenseThunkCreator(expense: any): void,\r\n}\r\n\r\nconst Form: React.FC<Props> = (props) => {\r\n    const [name, setName] = useState('');\r\n    const [category, setCategory] = useState('');\r\n    const [price, setPrice] = useState(0);\r\n    const [count, setCount] = useState(1);\r\n    const [error, setError] = useState(false);\r\n\r\n    useEffect(() => {\r\n        props.getCategoriesThunkCreator();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (props.categories.length) {\r\n            setCategory(props.categories[0].name)\r\n        }\r\n    }, [props.categories]);\r\n\r\n    const onAddExpenseButton = () => {\r\n        if (name.replace(/\\s+/g, '')) {\r\n            props.addExpenseThunkCreator({category, count, name, price, spent: price * count, id: Date.now()});\r\n            setName('');\r\n            setCount(1);\r\n            setPrice(0);\r\n        } else {\r\n            setError(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {props.showForm ? <>\r\n                <div className={'form'}>\r\n                    <div className={'form__element'}>\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input type=\"text\" autoFocus={true} className={!error ? 'name' : 'name name--error'} id={'name'} value={name}\r\n                               onChange={e => {\r\n                                   setName(e.target.value);\r\n                                   setError(false);\r\n                               }}/>\r\n                    </div>\r\n                    <div className={'form__element'}>\r\n                        <label htmlFor=\"category\">Category</label>\r\n                        {props.categories.length ? <select value={category} onChange={(e) => setCategory(e.target.value)} name=\"category\"\r\n                                                           id=\"category\">\r\n                            {props.categories.map((item: any) => <option key={item.name}\r\n                                                                         value={item.name}>{item.name}</option>)}\r\n                        </select> : <NavLink to={'settings'}>Set your categories</NavLink>}\r\n\r\n                    </div>\r\n                    <div className={'form__element'}>\r\n                        <label htmlFor=\"count\">Count</label>\r\n                        <input type=\"number\" id={'count'} value={count} min={0}\r\n                               onChange={(e) => setCount(parseInt(e.target.value))}/>\r\n                    </div>\r\n                    <div className={'form__element'}>\r\n                        <label htmlFor=\"price\">Price</label>\r\n                        <input type=\"number\" id={'price'} value={price} min={0}\r\n                               onChange={(e) => setPrice(parseInt(e.target.value))}/>\r\n                    </div>\r\n\r\n                    <button className={'button button--addItem'} onClick={onAddExpenseButton}>\r\n                        <img src={save} alt=\"\"/>\r\n                    </button>\r\n                </div>\r\n\r\n            </> : null}</>\r\n    )\r\n};\r\n\r\n\r\nexport default Form;","import React, {useEffect, useState} from \"react\";\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport search from './../../../../assets/images/search.svg';\r\nimport clear from './../../../../assets/images/clear.svg';\r\n\r\ninterface Props {\r\n    filterInRange: boolean,\r\n    dateHigher: any,\r\n    dateLower: any,\r\n\r\n    onChangeDateLower(date: any): void,\r\n\r\n    onChangeDateHigher(date: any): void,\r\n\r\n    setFilterInRange(filter: boolean): void,\r\n}\r\n\r\nconst ItemDates: React.FC<Props> = (props) => {\r\n    const [filter, setFilter] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (filter) {\r\n            props.setFilterInRange(true);\r\n        } else {\r\n            props.setFilterInRange(false)\r\n        }\r\n    }, [filter]);\r\n\r\n    const onToggleFilter = () => {\r\n        setFilter(!filter);\r\n    };\r\n\r\n    return (\r\n        <div className={'filter__item filter__item--dates'}>\r\n            <label htmlFor=\"sort\">Dates</label>\r\n\r\n            <div className={'dates'}>\r\n                <div className={'dates__element'}>\r\n                    <p>From:</p>\r\n                    <DatePicker maxDate={props.dateHigher} showTimeSelect onChange={props.onChangeDateLower} selected={props.dateLower}/>\r\n                </div>\r\n                <div className={'dates__element'}>\r\n                    <p>To:</p>\r\n                    <DatePicker minDate={props.dateLower} showTimeSelect disabled={props.dateLower > props.dateHigher}\r\n                                onChange={props.onChangeDateHigher} selected={props.dateHigher}/>\r\n                </div>\r\n            </div>\r\n\r\n            <input onChange={onToggleFilter} id='dark-check' type=\"checkbox\"/>\r\n            <label className='dark-mode' htmlFor=\"dark-check\">\r\n                <div className='toggle'\r\n                     style={filter ? {backgroundImage: `url(${clear})`, backgroundColor: '#FF7777'} : {backgroundImage: `url(${search})`}}/>\r\n            </label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ItemDates;","import React from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\ninterface Props {\r\n    filter: string,\r\n    categories: any,\r\n\r\n    setFilter(value: any): void,\r\n\r\n    setSort(value: any): void,\r\n\r\n    setDescending(value: any): void,\r\n}\r\n\r\nconst ItemFilter: React.FC<Props> = (props) => {\r\n\r\n    return (\r\n        <div className={'filter__item filter__item--filter'}>\r\n            <label htmlFor=\"filter\">Filter</label>\r\n            <select value={props.filter} onChange={(e) => props.setFilter(e.target.value)} name=\"filter\"\r\n                    id=\"filter\">\r\n                <option value=\"noFilter\">No filter</option>\r\n                {props.categories.map((item: any) => <option key={item.name}\r\n                                                             value={item.name}>{item.name}</option>)}\r\n            </select>\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\nexport default ItemFilter;","import React from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\ninterface Props {\r\n    sort: string,\r\n    sortValues: Array<string>,\r\n    setSort(value: any): void,\r\n}\r\n\r\nconst ItemSort: React.FC<Props> = (props) => {\r\n\r\n    return (\r\n        <div className={'filter__item filter__item--sort'}>\r\n            <label htmlFor=\"sort\">Sort</label>\r\n            <select value={props.sort} onChange={(e) => props.setSort(e.target.value)} name=\"filter\"\r\n                    id=\"sort\">\r\n                {props.sortValues.map((item: string) => <option key={item} value={item}>{item}</option>)}\r\n            </select>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ItemSort;","import React from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\ninterface Props {\r\n    descending: string,\r\n    setDescending(value: any): void,\r\n}\r\n\r\nconst ItemDirection: React.FC<Props> = (props) => {\r\n\r\n    return (\r\n        <div className={'filter__item filter__item--direction'}>\r\n            <label htmlFor=\"sort\">Direction</label>\r\n            <select value={props.descending} onChange={(e) => props.setDescending(e.target.value)}\r\n                    name=\"descending\">\r\n                <option value=\"noSort\">No sort</option>\r\n                <option value=\"Ascending\">Ascending</option>\r\n                <option value=\"Descending\">Descending</option>\r\n            </select>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ItemDirection;","import React from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport './filter.scss';\r\nimport ItemDates from \"./ItemDates/ItemDates\";\r\nimport ItemFilter from \"./ItemFilter/ItemFilter\";\r\nimport ItemSort from \"./ItemSort/ItemSort\";\r\nimport ItemDirection from \"./ItemDirection/ItemDirection\";\r\n\r\ninterface Props {\r\n    filter: string,\r\n    categories: any,\r\n    sort: string,\r\n    filterInRange: boolean,\r\n    sortValues: Array<string>,\r\n    descending: string,\r\n    dateHigher: any,\r\n    dateLower: any,\r\n\r\n    setFilter(value: any): void,\r\n\r\n    setSort(value: any): void,\r\n\r\n    setDescending(value: any): void,\r\n\r\n    onChangeDateLower(date: any): void,\r\n\r\n    onChangeDateHigher(date: any): void,\r\n\r\n    setFilterInRange(filter: boolean): void,\r\n}\r\n\r\nconst Filter: React.FC<Props> = (props) => {\r\n\r\n    return (\r\n        <div className={'filter'}>\r\n            <ItemFilter filter={props.filter} categories={props.categories} setFilter={props.setFilter}\r\n                        setSort={props.setSort} setDescending={props.setDescending}/>\r\n\r\n            <ItemSort sort={props.sort} sortValues={props.sortValues} setSort={props.setSort}/>\r\n\r\n            <ItemDirection descending={props.descending} setDescending={props.setDescending}/>\r\n\r\n            <ItemDates filterInRange={props.filterInRange} dateHigher={props.dateHigher} dateLower={props.dateLower}\r\n                       onChangeDateLower={props.onChangeDateLower} onChangeDateHigher={props.onChangeDateHigher}\r\n                       setFilterInRange={props.setFilterInRange}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Filter;","import React, {useEffect, useState} from \"react\";\r\nimport Confirm from \"../../Confirm/Confirm\";\r\nimport './expense.scss';\r\nimport Button from \"../../Button/Button\";\r\nimport edit from \"../../../assets/images/edit.svg\";\r\nimport save from \"../../../assets/images/save.svg\";\r\n\r\ninterface Props {\r\n    id: number,\r\n    name: string,\r\n    category: any,\r\n    count: any,\r\n    price: any,\r\n    spent: any,\r\n    date: string,\r\n    categories: any,\r\n    chosenItems: Array<any>,\r\n    checkedAll: boolean,\r\n\r\n    setChosenItems(val?: any): any,\r\n\r\n    deleteExpense(id: any): void,\r\n\r\n    changeExpenseThunkCreator(id: number, name: string, category: any, spent: any, count: any, price: any): void\r\n}\r\n\r\nconst Expense: React.FC<Props> = (props) => {\r\n    const [name, setName] = useState(props.name);\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [category, setCategory] = useState(props.category);\r\n    const [price, setPrice] = useState(props.price);\r\n    const [spent, setSpent] = useState(props.spent);\r\n    const [count, setCount] = useState(props.count);\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    const [checked, setChecked] = useState(props.checkedAll);\r\n\r\n    useEffect(() => {\r\n        setSpent(price * count)\r\n    }, [count, price]);\r\n\r\n    useEffect(() => {\r\n        setChecked(props.checkedAll);\r\n    }, [props.checkedAll]);\r\n\r\n    const isIterable = (object: any) => object != null && typeof object[Symbol.iterator] === 'function';\r\n\r\n    useEffect(() => {\r\n        if (checked) {\r\n            const itemsIter = isIterable(props.chosenItems);\r\n            if (itemsIter) {\r\n                props.setChosenItems(Array.from(new Set([...props.chosenItems, props.id])));\r\n            }\r\n        } else {\r\n            props.chosenItems.splice(props.chosenItems.indexOf(props.id), props.chosenItems.indexOf(props.id) === -1 ? 0 : 1);\r\n            props.setChosenItems([...props.chosenItems]);\r\n        }\r\n    }, [checked]);\r\n\r\n    const onDeleteExpense = () => {\r\n        props.deleteExpense(props.id);\r\n    };\r\n\r\n    const onEditCategory = () => {\r\n        setEditMode(true)\r\n    };\r\n\r\n    const onSaveCategory = () => {\r\n        props.changeExpenseThunkCreator(props.id, name, category, spent, count, price);\r\n        setEditMode(false);\r\n    };\r\n\r\n    const onChangeName = (e: any) => {\r\n        setName(e.currentTarget.value)\r\n    };\r\n\r\n    const onChangeCategory = (e: any) => {\r\n        setCategory(e.currentTarget.value)\r\n    };\r\n\r\n    const onChooseItem = () => {\r\n        setChecked(!checked);\r\n    };\r\n\r\n    return (\r\n        <div className={checked ? 'expense expense--chosen' : 'expense'}>\r\n            {showConfirm ? <Confirm className={'confirm'} title={'Are you sure?'} func={onDeleteExpense}\r\n                                    close={() => setShowConfirm(false)}/> : null}\r\n            {!editMode ?\r\n                <>\r\n                    <div className={'checkbox-element'}>\r\n                        <input checked={checked} onChange={onChooseItem} type=\"checkbox\"/>\r\n                        <label>\r\n                            <div className={'checked'}/>\r\n                        </label>\r\n                    </div>\r\n\r\n                    <p>{props.name}</p>\r\n                    <p>{props.category}</p>\r\n                    <p>{props.price}</p>\r\n                    <p>{props.count}</p>\r\n                    <p>{props.spent}</p>\r\n\r\n                    <div>\r\n                        <p>{props.date}</p>\r\n                    </div>\r\n                    <Button image={edit} func={onEditCategory} className={'button button--edit'}/>\r\n                </> :\r\n                <>\r\n                    <p/>\r\n                    <input type=\"text\" onChange={onChangeName} value={name}/>\r\n                    <select value={category} onChange={onChangeCategory} name=\"filter\" id=\"filter\">\r\n                        {props.categories.map((item: any) => <option key={item.name}\r\n                                                                     value={item.name}>{item.name}</option>)}\r\n                    </select>\r\n                    <input type=\"number\" id={'price'} value={price} min={0} onChange={(e) => setPrice(e.target.value)}/>\r\n                    <input type=\"number\" id={'count'} value={count} min={1} onChange={(e) => setCount(e.target.value)}/>\r\n\r\n                    <p>{spent}</p>\r\n\r\n                    <div>\r\n                        <p>{props.date}</p>\r\n                    </div>\r\n                    <Button image={save} func={onSaveCategory} className={'button button--save'}/>\r\n                </>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Expense;","import React from \"react\";\r\nimport './../HistoryItems/history.scss';\r\nimport separator from './../../../assets/images/separator.svg';\r\n\r\ninterface Props {\r\n    checkedAll: boolean,\r\n    chooseAllItems(): void\r\n}\r\n\r\nconst TableHeader: React.FC<Props> = (props) => {\r\n\r\n    return (\r\n        <div className={'table__header'}>\r\n            <div className={'checkbox-element'}>\r\n                <input checked={props.checkedAll} onChange={props.chooseAllItems} type=\"checkbox\"/>\r\n                <label>\r\n                    <div className={'checked'}/>\r\n                </label>\r\n            </div>\r\n\r\n            <div className={'table__header__item'}>\r\n                <img src={separator} alt=\"\"/>\r\n                <p>Name</p>\r\n            </div>\r\n            <div className={'table__header__item'}>\r\n                <img src={separator} alt=\"\"/>\r\n                <p>Category</p>\r\n            </div>\r\n            <div className={'table__header__item'}>\r\n                <img src={separator} alt=\"\"/>\r\n                <p>Price</p>\r\n            </div>\r\n            <div className={'table__header__item'}>\r\n                <img src={separator} alt=\"\"/>\r\n                <p>Count</p>\r\n            </div>\r\n            <div className={'table__header__item'}>\r\n                <img src={separator} alt=\"\"/>\r\n                <p>Spent</p>\r\n            </div>\r\n            <div className={'table__header__item'}>\r\n                <img src={separator} alt=\"\"/>\r\n                <p>Date</p>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default React.memo(TableHeader);","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport Expense from \"./../Expense/Expense\";\r\nimport './history.scss';\r\nimport TableHeader from \"../TableHeader/TableHeader\";\r\nimport empty from './../../../assets/images/empty.svg';\r\nimport noData from './../../../assets/images/nodata.svg';\r\nimport Loader from \"../../Loader/Loader\";\r\n\r\ninterface Props {\r\n    filter: any,\r\n    sort: string,\r\n    descending: string,\r\n    expenses: any,\r\n    categories: any,\r\n    dateLower: any,\r\n    dateHigher: any,\r\n    filterInRange: boolean,\r\n    chosenItems: any,\r\n    isLoading: boolean,\r\n    checkedAll: boolean,\r\n\r\n    setChosenItems(val?: any): any\r\n    setCheckedAll(val?: any): any\r\n    deleteExpense(id: any): void,\r\n    changeExpenseThunkCreator(id: number, name: string, category: any, spent: any, count: any, price: any): any\r\n    setExpenses(): void,\r\n}\r\n\r\nconst HistoryItems: React.FC<Props> = (props) => {\r\n\r\n    useEffect(() => {\r\n        if (props.checkedAll && props.filterInRange) {\r\n            props.setChosenItems(items.filter(item => item.props.id < props.dateHigher && item.props.id > props.dateLower).length ? items.filter(item => item.props.id < props.dateHigher && item.props.id > props.dateLower).map(item => item.props.id) : null);\r\n        } else if (props.checkedAll && !props.filterInRange) {\r\n            if (props.expenses.length && props.filter !== 'noFilter' && props.descending === 'Descending') {\r\n                props.setChosenItems([...expenses.filter((item: any) => item.category === props.filter).map((item: any) => item.id)]);\r\n            } else if (props.expenses.length && props.filter !== 'noFilter' && props.descending !== 'Descending') {\r\n                props.setChosenItems([...expenses.sort(defineSort()).filter((item: any) => item.category === props.filter).map((item: any) => item.id).reverse()]);\r\n            } else if (props.descending === 'Descending') {\r\n                props.setChosenItems([...expenses.map((item: any) => item.id)]);\r\n            } else {\r\n                props.setChosenItems([...expenses.map((item: any) => item.id).reverse()]);\r\n            }\r\n        } else {\r\n            props.setChosenItems([]);\r\n        }\r\n    }, [props.checkedAll, props.filterInRange]);\r\n\r\n    const compareNames = (a: any, b: any) => {\r\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n            return 1;\r\n        }\r\n        if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n            return -1;\r\n        }\r\n        return 0;\r\n    };\r\n    const compareCategory = (a: any, b: any) => {\r\n        if (a.category.toLowerCase() > b.category.toLowerCase()) {\r\n            return 1;\r\n        }\r\n        if (a.category.toLowerCase() < b.category.toLowerCase()) {\r\n            return -1;\r\n        }\r\n        return 0;\r\n    };\r\n    const defineSort = () => {\r\n        switch (props.sort) {\r\n            case 'By Date':\r\n                return (a: any, b: any) => b.id - a.id;\r\n            case 'By Spent':\r\n                return (a: any, b: any) => b.spent - a.spent;\r\n            case 'By Categories':\r\n                return compareCategory;\r\n            case 'By Name':\r\n                return compareNames;\r\n            case 'By Count':\r\n                return (a: any, b: any) => b.count - a.count;\r\n            default:\r\n                return (a: any, b: any) => b.id - a.id;\r\n        }\r\n    };\r\n\r\n    const expenses = [...props.expenses].sort(defineSort());\r\n    const expense = (item: any) => {\r\n        return (\r\n            <Expense id={item.id}\r\n                     key={item.id}\r\n                     categories={props.categories}\r\n                     name={item.name}\r\n                     category={item.category}\r\n                     chosenItems={props.chosenItems}\r\n                     setChosenItems={props.setChosenItems}\r\n                     checkedAll={props.checkedAll}\r\n                     count={item.count}\r\n                     price={item.price}\r\n                     spent={item.spent}\r\n                     date={item.date}\r\n                     deleteExpense={props.deleteExpense}\r\n                     changeExpenseThunkCreator={props.changeExpenseThunkCreator}\r\n            />\r\n        )\r\n    };\r\n\r\n    const items = (props.expenses.length && props.filter !== 'noFilter' && props.descending === 'Descending')\r\n        ? expenses.filter((item: any) => item.category === props.filter).map((item: any) => expense(item))\r\n        : (props.expenses.length && props.filter !== 'noFilter' && props.descending !== 'Descending')\r\n            ? expenses.sort(defineSort()).filter((item: any) => item.category === props.filter).map((item: any) => expense(item)).reverse()\r\n            : (props.descending === 'Descending')\r\n                ? expenses.map((item: any) => expense(item))\r\n                : expenses.map((item: any) => expense(item)).reverse();\r\n\r\n    const chooseAllItems = useCallback(() => {\r\n        props.setCheckedAll(!props.checkedAll);\r\n    }, [props.checkedAll]);\r\n\r\n    return (\r\n        <div className={'table'}>\r\n            <TableHeader checkedAll={props.checkedAll} chooseAllItems={chooseAllItems}/>\r\n            {props.isLoading ? <Loader/> : null}\r\n            {props.filterInRange ? items.filter(item => item.props.id < props.dateHigher && item.props.id > props.dateLower).length\r\n                ? items.filter(item => item.props.id < props.dateHigher && item.props.id > props.dateLower) :\r\n                <div className={'empty'}>\r\n                    <p>You don't have any data for this period</p>\r\n                    <img src={noData} alt=\"\"/>\r\n                </div> : items}\r\n            {props.expenses.length === 0 && !props.filterInRange ? <div className={'empty'}>\r\n                <p>Add your first expense</p>\r\n                <img src={empty} alt=\"\"/>\r\n            </div> : null}\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default HistoryItems;","export const expensesSelector = (store) => {\r\n    return store.history.expenses;\r\n};\r\n\r\nexport const pagesSelector = (store) => {\r\n    return store.history.pages;\r\n};","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    addExpenseThunkCreator,\r\n    changeExpenseThunkCreator,\r\n    deleteExpensesThunkCreator, getExpenses,\r\n    getExpensesThunkCreator,\r\n} from \"../../redux/history-reducer\";\r\nimport Form from \"./Form/Form\";\r\nimport Filter from \"./Filter/Filter\";\r\nimport HistoryItems from \"./HistoryItems/HistoryItems\";\r\nimport add from './../../assets/images/add.svg';\r\nimport Button from \"../Button/Button\";\r\nimport del from './../../assets/images/delete.svg';\r\nimport Confirm from \"../Confirm/Confirm\";\r\nimport {getUser} from \"../../redux/account-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport prev from '../../assets/images/prev.svg';\r\nimport next from '../../assets/images/next.svg';\r\nimport end from '../../assets/images/end.svg';\r\nimport start from '../../assets/images/start.svg';\r\nimport {expensesSelector, pagesSelector} from \"../../selectors/history-selectors\";\r\nimport {categoriesSelector} from \"../../selectors/settings-selector\";\r\nimport {isAuthSelector, isLoadingSelector} from \"../../selectors/account-selectors\";\r\nimport {getCategoriesThunkCreator} from \"../../redux/settings-reducer\";\r\n\r\nconst History: React.FC = (props: any) => {\r\n    const [filter, setFilter] = useState('noFilter');\r\n    const [sort, setSort] = useState('By Date');\r\n    const [descending, setDescending] = useState('Descending');\r\n    const [dateLower, setDateLower] = useState(new Date().setHours(0));\r\n    const [dateHigher, setDateHigher] = useState(new Date().setDate(new Date().getDate() + 1));\r\n    const [filterInRange, setFilterInRange] = useState(false);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [chosenItems, setChosenItems] = useState([]);\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [deleteFlag, setDeleteFlag] = useState(true);\r\n    const [checkedAll, setCheckedAll] = useState(false);\r\n    const sortValues = ['By Date', 'By Spent', 'By Categories', 'By Name', 'By Count'];\r\n\r\n    useEffect(() => {\r\n        props.getExpensesThunkCreator();\r\n        props.getUser();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        props.getExpensesThunkCreator(currentPage);\r\n    }, [currentPage, deleteFlag]);\r\n\r\n    const onChangeDateLower = (date: any) => {\r\n        setDateLower(date);\r\n    };\r\n\r\n    const onChangeDateHigher = (date: any) => {\r\n        setDateHigher(date);\r\n    };\r\n\r\n    const onDeleteExpense = useCallback(() => {\r\n        props.deleteExpensesThunkCreator(chosenItems);\r\n        props.getExpensesThunkCreator(currentPage);\r\n        setCheckedAll(false);\r\n        setDeleteFlag(!deleteFlag);\r\n        setChosenItems([]);\r\n        setShowConfirm(false);\r\n    }, [chosenItems]);\r\n\r\n    const onShowConfirm = () => {\r\n        if (chosenItems.length) {\r\n            setShowConfirm(true)\r\n        }\r\n    };\r\n\r\n    let pages = [];\r\n\r\n    if (currentPage === props.pages) {\r\n        pages = props.pages > 2 ? [currentPage - 2, currentPage - 1, currentPage] : [currentPage - 1, currentPage];\r\n    } else if (currentPage === 1) {\r\n        pages = props.pages > 2 ? [currentPage, currentPage + 1, currentPage + 2] : [currentPage, currentPage + 1];\r\n    } else {\r\n        pages = [currentPage - 1, currentPage, currentPage + 1];\r\n    }\r\n\r\n    if (!props.isAuth) {\r\n        return <Redirect to={'login'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={'history'}>\r\n            <h2>Your history</h2>\r\n\r\n            {showConfirm ? <Confirm className={'confirm show'}\r\n                                    title={`Do you want delete ${chosenItems === null ? 0 : chosenItems.length} ${chosenItems.length === 1 ? 'item' : 'items'}?`}\r\n                                    func={onDeleteExpense} close={() => setShowConfirm(false)}/> :\r\n                <Confirm className={'confirm'}\r\n                         title={`Do you want delete ${chosenItems === null ? 0 : chosenItems.length} items?`}\r\n                         func={onDeleteExpense} close={() => setShowConfirm(false)}/>}\r\n\r\n            <Filter categories={props.categories} descending={descending} setDescending={setDescending} filter={filter}\r\n                    setFilter={setFilter} sort={sort} setSort={setSort} sortValues={sortValues} dateLower={dateLower}\r\n                    dateHigher={dateHigher} onChangeDateLower={onChangeDateLower}\r\n                    onChangeDateHigher={onChangeDateHigher} filterInRange={filterInRange}\r\n                    setFilterInRange={setFilterInRange}/>\r\n\r\n            <div style={props.isLoading ? {opacity: \".5\", pointerEvents: 'none'} : {}} className={'history__buttons'}>\r\n                <Button image={add} func={() => setShowForm(!showForm)} className={'button button--add'}\r\n                        title={''}/>\r\n                <Button image={del} func={onShowConfirm} className={'button button--delete'}\r\n                        title={`${chosenItems === null ? 0 : chosenItems.length}`}/>\r\n            </div>\r\n\r\n            <Form currentPage={currentPage} categories={props.categories} showForm={showForm} addExpenseThunkCreator={props.addExpenseThunkCreator} getCategoriesThunkCreator={props.getCategoriesThunkCreator}/>\r\n\r\n            <HistoryItems checkedAll={checkedAll} setCheckedAll={setCheckedAll} isLoading={props.isLoading} changeExpenseThunkCreator={props.changeExpenseThunkCreator}\r\n                          chosenItems={chosenItems} setChosenItems={setChosenItems} categories={props.categories}\r\n                          filter={filter} sort={sort} descending={descending} expenses={props.expenses}\r\n                          deleteExpense={props.deleteExpense} setExpenses={props.setExpenses}\r\n                          dateLower={dateLower} dateHigher={dateHigher} filterInRange={filterInRange}/>\r\n            {props.pages > 1 ? <div className={'buttons'}>\r\n                <Button image={start} className={'button button--pages'} func={() => setCurrentPage(1)}/>\r\n                <Button image={prev} className={'button button--pages'} func={() => currentPage !== 1 ? setCurrentPage(currentPage - 1) : null}/>\r\n\r\n                <div className={'pages'}>{pages.map((item: any) => <button className={'button'} key={item || 0} style={item === currentPage ? {fontWeight: 'bold'} : {}}\r\n                                                       onClick={() => {\r\n                                                           props.getExpensesThunkCreator(item);\r\n                                                           setCurrentPage(item || 0);\r\n                                                       }}>{item}</button>)}</div>\r\n\r\n                <Button image={next} className={'button button--pages'} func={() => currentPage !== props.pages ? setCurrentPage(currentPage + 1) : null}/>\r\n                <Button image={end} className={'button button--pages'} func={() => setCurrentPage(props.pages)}/>\r\n            </div> : null}\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nlet mapStateToProps = (store: any) => ({\r\n    expenses: expensesSelector(store),\r\n    pages: pagesSelector(store),\r\n    categories: categoriesSelector(store),\r\n    isAuth: isAuthSelector(store),\r\n    isLoading: isLoadingSelector(store),\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n    getUser, getExpensesThunkCreator, getExpenses, addExpenseThunkCreator,\r\n    deleteExpensesThunkCreator, changeExpenseThunkCreator, getCategoriesThunkCreator\r\n})(History);","import React, {useEffect, useState} from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport search from \"../../../assets/images/search.svg\";\r\nimport clear from \"../../../assets/images/clear.svg\";\r\n\r\ninterface Props {\r\n    dateHigher: any,\r\n    dateLower: any,\r\n    showForPeriod: boolean,\r\n\r\n    setDateLower(date: any): void,\r\n\r\n    setDateHigher(date: any): void,\r\n\r\n    setShowForPeriod(show: boolean): void,\r\n\r\n    setShowMoreInfo(show: boolean): void\r\n}\r\n\r\nconst Period: React.FC<Props> = (props) => {\r\n    const [filter, setFilter] = useState(false);\r\n\r\n    useEffect(() => {\r\n        onSetPeriod(filter);\r\n    }, [filter]);\r\n\r\n    const onChangeDateLower = (date: any) => {\r\n        props.setDateLower(date);\r\n    };\r\n    const onChangeDateHigher = (date: any) => {\r\n        props.setDateHigher(date);\r\n    };\r\n    const onSetPeriod = (showForPeriod: boolean) => {\r\n        props.setShowForPeriod(showForPeriod);\r\n        props.setShowMoreInfo(false);\r\n    };\r\n\r\n    const onToggleFilter = () => {\r\n        setFilter(!filter);\r\n    };\r\n\r\n    return (\r\n        <div className={'period'}>\r\n\r\n            <div className={'dates'}>\r\n                <div className={'dates__element'}>\r\n                    <p>From:</p>\r\n                    <DatePicker maxDate={props.dateHigher} showTimeSelect onChange={onChangeDateLower} selected={props.dateLower}/>\r\n                </div>\r\n                <div className={'dates__element'}>\r\n                    <p>To:</p>\r\n                    <DatePicker minDate={props.dateLower} showTimeSelect disabled={props.dateLower > props.dateHigher}\r\n                                onChange={onChangeDateHigher} selected={props.dateHigher}/>\r\n                </div>\r\n            </div>\r\n\r\n            <input onChange={onToggleFilter} id='dark-check' type=\"checkbox\"/>\r\n            <label className='dark-mode' htmlFor=\"dark-check\">\r\n                <div className='toggle'\r\n                     style={filter ? {backgroundImage: `url(${clear})`, backgroundColor: '#FF7777'} : {backgroundImage: `url(${search})`}}/>\r\n            </label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Period;","import React from \"react\";\r\n\r\ninterface Props {\r\n    dateLower: any,\r\n    dateHigher: any,\r\n    categories: Array<any>,\r\n    title: string,\r\n    showExpensesPerDay: boolean,\r\n    showMoreInfo: boolean,\r\n    moreInfo: any\r\n\r\n    findTotalSpending(): number,\r\n\r\n    findSpentCategory(): any,\r\n\r\n    findBiggerSpent(): any\r\n}\r\n\r\nconst AnalyticsInfo: React.FC<Props> = (props) => {\r\n\r\n    return (\r\n        <div className={'analytics__wrapper'}>\r\n            <h3>{props.title}</h3>\r\n\r\n            <div className={'analytics__info'}>\r\n                <div className={'analytics__info__item'}>\r\n                    <h3>Total spent:</h3>\r\n                    {props.findTotalSpending()}\r\n                </div>\r\n                <div className={'analytics__info__item'}>\r\n                    <h3>Most spent for:</h3>\r\n                    {props.findBiggerSpent()}\r\n                </div>\r\n                <div className={'analytics__info__item'}>\r\n                    <h3>Spending by categories:</h3>\r\n                    <div className={'analytics__categories'}>\r\n                        {props.findSpentCategory()}\r\n                    </div>\r\n                </div>\r\n\r\n                {props.showMoreInfo ? <div className={'analytics__info__item detail-info'}>\r\n                    <div className={'header'}>\r\n                        <p>Name</p>\r\n                        <p>Category</p>\r\n                        <p>Price</p>\r\n                        <p>Count</p>\r\n                        <p>Spent</p>\r\n                        <p>Date</p>\r\n                    </div>\r\n\r\n                    {props.moreInfo.map((item: any) =>\r\n                        <div key={item.id} className={'more-info'}>\r\n                            <p>{item.name}</p>\r\n                            <p>{item.category}</p>\r\n                            <p>{item.price}</p>\r\n                            <p>{item.count}</p>\r\n                            <p>{item.spent}</p>\r\n                            <p>{item.date}</p>\r\n                        </div>)}\r\n                </div> : null}\r\n\r\n                {props.showExpensesPerDay ? <div className={'analytics__info__item'}>\r\n                    <h3>Spending per day:</h3>\r\n                    {props.findTotalSpending() / Math.ceil((props.dateHigher - props.dateLower) / 86400000)}\r\n                </div> : null}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default AnalyticsInfo;","import React from \"react\";\r\n\r\ninterface Props {\r\n    spent: any,\r\n    category: any,\r\n    sum: any,\r\n    func(): void\r\n}\r\n\r\nconst Chart: React.FC<Props> = (props) => {\r\n\r\n    return (\r\n            <div>\r\n                <p>{props.spent}</p>\r\n                <div onClick={props.func} style={{\r\n                    width: '1.5rem',\r\n                    height: `${props.spent / props.sum * 150}px`,\r\n                    backgroundColor: `rgb(${0 + props.spent}, ${255 / (props.spent * .1)}, ${255 / (props.spent * .5)})`\r\n                }}\r\n                     className={'column'}/>\r\n                <h5>{props.category}</h5>\r\n            </div>\r\n    )\r\n};\r\n\r\nexport default Chart;","import React, {useEffect, useState} from \"react\";\r\nimport './analytics.scss';\r\nimport {connect} from \"react-redux\";\r\nimport Period from \"./Period/Period\";\r\nimport {getAllExpensesThunkCreator} from \"../../redux/history-reducer\";\r\nimport AnalyticsInfo from \"./AnalyticsInfo/AnalyticsInfo\";\r\nimport {addCategoriesThunkCreator, getCategories, getCategoriesThunkCreator} from \"../../redux/settings-reducer\";\r\nimport Chart from \"./Chart/Chart\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {categoriesSelector} from \"../../selectors/settings-selector\";\r\nimport {isAuthSelector} from \"../../selectors/account-selectors\";\r\nimport {expensesSelector, pagesSelector} from \"../../selectors/history-selectors\";\r\n\r\nconst Analytics = (props: any) => {\r\n    const [dateLower, setDateLower] = useState(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate(), 0, 0, 0));\r\n    const [dateHigher, setDateHigher] = useState(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 1, 0, 0, 0));\r\n    const [showForPeriod, setShowForPeriod] = useState(false);\r\n    const [showMoreInfo, setShowMoreInfo] = useState(false);\r\n    const [moreInfo, setMoreInfo] = useState({});\r\n\r\n    useEffect(() => {\r\n        props.getAllExpensesThunkCreator();\r\n        props.getCategoriesThunkCreator();\r\n    }, []);\r\n\r\n    const findTotalSpendingForPeriod = () => {\r\n        return [...props.expenses].filter((item: any) => item.id > dateLower && item.id < dateHigher).reduce((sum: any, item: any) => sum + item.spent, 0)\r\n    };\r\n    const findTotalSpending = () => {\r\n        return [...props.expenses].reduce((sum: any, item: any) => sum + item.spent, 0);\r\n    };\r\n    const findSpentCategory = () => {\r\n        let categories: Array<any> = [];\r\n\r\n        props.categories.forEach((category: any) => categories.push({\r\n            category: category.name,\r\n            spent: [...props.expenses].filter((item: any) => item.category === category.name).reduce((sum: any, elem: any) => sum + elem.spent, 0),\r\n            expenses: [...props.expenses].filter((item: any) => item.category === category.name),\r\n        }));\r\n\r\n        let sum = categories.reduce((sum, item) => sum + item.spent, 0);\r\n\r\n        return categories.filter(item => item.spent !== 0).sort((a, b) => a.spent - b.spent).map(item =>\r\n            <Chart func={() => {\r\n                setShowMoreInfo(true);\r\n                setMoreInfo(item.expenses);\r\n            }} key={item.category} spent={item.spent} category={item.category} sum={sum}/>);\r\n    };\r\n    const findSpentCategoryForPeriod = () => {\r\n        let categories: Array<any> = [];\r\n\r\n        props.categories.forEach((category: any) => categories.push({\r\n            category: category.name,\r\n            spent: [...props.expenses].filter((item: any) => item.id > dateLower && item.id < dateHigher && item.category === category.name).reduce((sum: any, elem: any) => sum + elem.spent, 0),\r\n            expenses: [...props.expenses].filter((item: any) => item.id > dateLower && item.id < dateHigher && item.category === category.name)\r\n        }));\r\n\r\n        let sum = categories.reduce((sum, item) => sum + item.spent, 0);\r\n\r\n        return categories.filter(item => item.spent !== 0).sort((a, b) => a.spent - b.spent).map(item =>\r\n            <Chart func={() => {\r\n                setShowMoreInfo(true);\r\n                setMoreInfo(item.expenses);\r\n            }} key={item.category} spent={item.spent}\r\n                   category={item.category} sum={sum}/>);\r\n    };\r\n    const findBiggerSpentForPeriod = () => {\r\n        return [...props.expenses].filter((item: any) => item.id >= dateLower && item.id <= dateHigher && item.spent === Math.max(...props.expenses.filter((item: any) => item.id >= dateLower && item.id <= dateHigher).map((item: any) => item.spent))).map((item: any) =>\r\n            <div className={'biggest-spending'} key={item.id}>\r\n                <p>Name:</p>\r\n                <span>{item.name}</span>\r\n                <p>Spent:</p>\r\n                <span>{item.spent}</span>\r\n                <p>Category:</p>\r\n                <span>{item.category}</span>\r\n                <p>Date:</p>\r\n                <span>{item.date}</span>\r\n                <p>Count:</p>\r\n                <span>{item.count}</span>\r\n            </div>)\r\n    };\r\n    const findBiggerSpent = () => {\r\n        return [...props.expenses].filter((item: any) => item.spent === Math.max(...props.expenses.map((item: any) => item.spent))).map((item: any) =>\r\n            <div className={'biggest-spending'} key={item.id}>\r\n                <p>Name:</p>\r\n                <span>{item.name}</span>\r\n                <p>Spent:</p>\r\n                <span>{item.spent}</span>\r\n                <p>Category:</p>\r\n                <span>{item.category}</span>\r\n                <p>Date:</p>\r\n                <span>{item.date}</span>\r\n                <p>Count:</p>\r\n                <span>{item.count}</span>\r\n            </div>)\r\n    };\r\n\r\n    if (!props.isAuth) {\r\n        return <Redirect to={'login'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={'analytics'}>\r\n            <h2>Analytics</h2>\r\n\r\n            <Period setShowMoreInfo={setShowMoreInfo} dateHigher={dateHigher} dateLower={dateLower} setDateLower={setDateLower}\r\n                    setDateHigher={setDateHigher} showForPeriod={showForPeriod} setShowForPeriod={setShowForPeriod}/>\r\n\r\n            {showForPeriod ?\r\n                <AnalyticsInfo moreInfo={moreInfo} showMoreInfo={showMoreInfo} showExpensesPerDay={true}\r\n                               dateLower={dateLower} dateHigher={dateHigher}\r\n                               categories={props.categories} title={'Analytics for the time period'}\r\n                               findTotalSpending={findTotalSpendingForPeriod}\r\n                               findSpentCategory={findSpentCategoryForPeriod}\r\n                               findBiggerSpent={findBiggerSpentForPeriod}/>\r\n                :\r\n                <AnalyticsInfo moreInfo={moreInfo} showMoreInfo={showMoreInfo} showExpensesPerDay={false}\r\n                               dateLower={dateLower} dateHigher={dateHigher}\r\n                               categories={props.categories} title={'Summary analytics'}\r\n                               findTotalSpending={findTotalSpending} findSpentCategory={findSpentCategory}\r\n                               findBiggerSpent={findBiggerSpent}/>\r\n            }\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (store: any) => ({\r\n    expenses: expensesSelector(store),\r\n    categories: categoriesSelector(store),\r\n    isAuth: isAuthSelector(store),\r\n    pages: pagesSelector(store),\r\n});\r\n\r\nexport default connect(mapStateToProps, {getCategories, getAllExpensesThunkCreator, getCategoriesThunkCreator, addCategoriesThunkCreator})(Analytics);","import React from \"react\";\r\n\r\nconst Intro = () => {\r\n    return (\r\n        <div className={'intro'}>\r\n            <p>This app based on <b>MERN</b> stack. I've used a <b>JWT token</b> for singing in, provided from the backend with headers, so it's safe enough. Also, Analyzer doesn't send an invitation to email you mention, so you can register with a fake email for test purposes. For example:</p>\r\n            <div>\r\n                <p><b>Nickname:</b></p> <span>NickNick</span>\r\n                <p><b>Email:</b></p> <span>ex@mail.ru</span>\r\n                <p><b>Password:</b></p> <span>1234567</span>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Intro;","import React, {useEffect, useState} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getUser, setInfo,\r\n    userLoginThunkCreator,\r\n    userLogoutThunkCreator,\r\n    userRegisterThunkCreator\r\n} from \"../../redux/account-reducer\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport './login.scss';\r\nimport Loader from \"../Loader/Loader\";\r\nimport {\r\n    infoSelector,\r\n    isAuthSelector,\r\n    isLoadingSelector,\r\n    isLoginLoadingSelector\r\n} from \"../../selectors/account-selectors\";\r\nimport Intro from \"../Intro/Intro\";\r\n\r\nconst Login = (props: any) => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        props.getUser();\r\n    }, []);\r\n\r\n\r\n    if (!props.isAuth) {\r\n        return (\r\n            <>\r\n                {\r\n                    props.isLoginLoading ? <Loader/> : <form className={'login'}>\r\n                        <h3>Login</h3>\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)}/>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)}/>\r\n                        <div>\r\n                            <button className={'button'} onClick={() => props.userLoginThunkCreator(email, password)}>Login</button>\r\n                            or\r\n                            <button className={'button'} onClick={() => props.history.push('register')}>Register</button>\r\n                        </div>\r\n                        <p className={'error-message'}>{props.info === 'ok' ? null : props.info}</p>\r\n                    </form>\r\n                }\r\n                <Intro/>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return <Redirect to={'/history'}/>\r\n\r\n};\r\n\r\nconst mapStateToProps = (store: any) => ({\r\n    isAuth: isAuthSelector(store),\r\n    isLoading: isLoadingSelector(store),\r\n    isLoginLoading: isLoginLoadingSelector(store),\r\n    info: infoSelector(store),\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        userLoginThunkCreator, userLogoutThunkCreator,\r\n        userRegisterThunkCreator, getUser, setInfo\r\n    }),\r\n    withRouter\r\n)(Login);","import React, {useEffect, useState} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getUser,\r\n    userLoginThunkCreator,\r\n    userLogoutThunkCreator,\r\n    userRegisterThunkCreator\r\n} from \"../../redux/account-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport './../Login/login.scss';\r\nimport Loader from \"../Loader/Loader\";\r\nimport {\r\n    infoSelector,\r\n    isAuthSelector,\r\n    isLoadingSelector,\r\n    isLoginLoadingSelector\r\n} from \"../../selectors/account-selectors\";\r\nimport Intro from \"../Intro/Intro\";\r\n\r\nconst Register = (props: any) => {\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        props.getUser();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (props.info === 'ok') {\r\n            props.history.push('login');\r\n        }\r\n\r\n    }, [props.info]);\r\n\r\n    return (\r\n        <>\r\n            {props.isLoginLoading ? <Loader/> : <form className={'login'}>\r\n                <h3>Registration</h3>\r\n                <label htmlFor=\"name\">Name</label>\r\n                <input id={'name'} type=\"text\" value={name} onChange={(e) => setName(e.target.value)}/>\r\n                <label htmlFor=\"name\">Email</label>\r\n                <input id={'email'} type=\"text\" value={email} onChange={(e) => setEmail(e.target.value)}/>\r\n                <label htmlFor=\"name\">Password</label>\r\n                <input id={'password'} type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)}/>\r\n                <div>\r\n                    <button className={'button'} onClick={() => {\r\n                        props.userRegisterThunkCreator(name, email, password);\r\n                    }}>Register\r\n                    </button>\r\n                </div>\r\n                <p className={'error-message'}>{props.info === 'ok' ? null : props.info}</p>\r\n            </form>\r\n            }\r\n            <Intro/>\r\n        </>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (store: any) => ({\r\n    isAuth: isAuthSelector(store),\r\n    isLoading: isLoadingSelector(store),\r\n    isLoginLoading: isLoginLoadingSelector(store),\r\n    info: infoSelector(store),\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        userLoginThunkCreator, userLogoutThunkCreator,\r\n        userRegisterThunkCreator, getUser\r\n    }),\r\n    withRouter\r\n)(Register);","import React from 'react';\nimport './assets/styles/styles.scss';\nimport Menu from \"./components/Menu/Menu\";\nimport History from \"./components/History/History\";\nimport Analytics from \"./components/Analytics/Analytics\";\nimport {Redirect, Route, Switch} from 'react-router-dom';\nimport {withLoading} from \"./HOC/withLoadingSuspense\";\nimport Login from \"./components/Login/Login\";\nimport Register from \"./components/Register/Register\";\n\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\n\n\nconst App = () => {\n    \n    const SettingsLoading = withLoading(Settings);\n\n    return (\n        <div className=\"App\">\n                <Menu/>\n                <div className={'content'}>\n                    <Switch>\n                        // @ts-ignore\n                        <Route path={'/login'} render={() => <Login/>}/>\n                        // @ts-ignore\n                        <Route path={'/register'} render={() => <Register/>}/>\n                        <Route path={'/history'} render={() => <History/>}/>\n                        <Route path={'/analytics'} render={() => <Analytics/>}/>\n                        <Route path={'/settings'} render={() => <SettingsLoading/>}/>\n                        <Redirect to={'/history'}/>\n                    </Switch>\n            </div>\n        </div>\n    );\n};\n\nexport default App;\n","import React from \"react\";\r\nimport loading from './../assets/images/loading-1.svg'\r\n\r\nexport const withLoading = (Component: any) => {\r\n    return () => {\r\n        return <React.Suspense fallback={<img src={loading} alt=\"\"/>}>\r\n            <Component/>\r\n        </React.Suspense>\r\n    };\r\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the client load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web client is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different client. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","let initialState: any = {};\r\n\r\nconst analyticsReducer = (state = initialState, action: any) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default analyticsReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport analyticsReducer from \"./analytics-reducer\";\r\nimport accountReducer from \"./account-reducer\";\r\nimport historyReducer from \"./history-reducer\";\r\nimport settingsReducer from \"./settings-reducer\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\n\r\nconst reducers = combineReducers({\r\n    account: accountReducer,\r\n    analytics: analyticsReducer,\r\n    history: historyReducer,\r\n    settings: settingsReducer,\r\n});\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n// @ts-ignore\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {HashRouter} from 'react-router-dom';\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/redux-store\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your client to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import {loginLoading, showLoading, userLogin} from \"./account-reducer\";\r\nimport {baseURL, historyAPI, invalidToken} from \"../api/api\";\r\nimport * as axios from \"axios\";\r\n\r\nconst ADD_EXPENSE = 'ADD_EXPENSE';\r\nconst DELETE_EXPENSE = 'DELETE_EXPENSE';\r\nconst GET_EXPENSES = 'GET_EXPENSES';\r\nconst GET_PAGES = 'GET_PAGES';\r\nconst CHANGE_EXPENSE = 'CHANGE_EXPENSE';\r\n\r\nlet initialState: any = {\r\n    expenses: [],\r\n    pages: 1,\r\n    limit: 10,\r\n};\r\n\r\nconst historyReducer = (state = initialState, action: any) => {\r\n    switch (action.type) {\r\n        case ADD_EXPENSE:\r\n            return {\r\n                ...state,\r\n                expenses: [\r\n                    ...state.expenses,\r\n                    {\r\n                        ...action.expense,\r\n                        date: `${new Date().toLocaleString()}`,\r\n                    },\r\n                ]\r\n            };\r\n        case DELETE_EXPENSE:\r\n            return {\r\n                ...state,\r\n                expenses: [\r\n                    ...state.expenses.filter((item: any) => !action.id.includes(item.id))\r\n                ]\r\n            };\r\n        case GET_EXPENSES: {\r\n            return {\r\n                ...state,\r\n                expenses: [...action.expenses]\r\n            };\r\n        }\r\n        case GET_PAGES: {\r\n            return {\r\n                ...state,\r\n                pages: Math.ceil(action.pages / state.limit),\r\n            };\r\n        }\r\n        case CHANGE_EXPENSE: {\r\n            return {\r\n                ...state,\r\n                expenses: [\r\n                    ...state.expenses.map((item: any) => {\r\n                        if (item.id === action.id) {\r\n                            return {\r\n                                ...item,\r\n                                name: action.name,\r\n                                category: action.category,\r\n                                count: action.count,\r\n                                spent: action.spent,\r\n                                price: action.price,\r\n                            }\r\n                        }\r\n                        return item\r\n                    })\r\n                ]\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addExpense = (expense: any) => ({type: ADD_EXPENSE, expense});\r\nexport const addExpenseThunkCreator = (expense: any) => async (dispatch: any) => {\r\n    dispatch(showLoading(true));\r\n\r\n    try {\r\n        dispatch(addExpense(expense));\r\n\r\n        await historyAPI.addExpense(expense);\r\n\r\n        dispatch(showLoading(false));\r\n    } catch (e) {\r\n        // console.log(e.response.statusText);\r\n        // invalidToken(e, dispatch);\r\n\r\n        // ==============================================================\r\n\r\n        const token = `${localStorage.getItem('refreshToken')}`;\r\n        if (token) {\r\n            // @ts-ignore\r\n            const response = await axios.post(`${baseURL}/user/token`, {\r\n                token: token\r\n            });\r\n            if (response.data) {\r\n                localStorage.setItem('token', response.data);\r\n                // dispatch(userLogin(true));\r\n\r\n                // @ts-ignore\r\n                await axios.post(`${baseURL}/history/expenses`, {\r\n                    name: expense.name,\r\n                    category: expense.category,\r\n                    count: expense.count,\r\n                    spent: expense.spent,\r\n                    price: expense.price,\r\n                    date: `${new Date().toLocaleString()}`,\r\n                    id: expense.id,\r\n                }, {\r\n                    headers: {\r\n                        'token': response.data\r\n                    }\r\n                });\r\n\r\n                dispatch(showLoading(false));\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport const deleteExpense = (id: any) => ({type: DELETE_EXPENSE, id});\r\nexport const deleteExpensesThunkCreator = (id: any) => async (dispatch: any) => {\r\n    dispatch(showLoading(true));\r\n\r\n    try {\r\n        dispatch(deleteExpense(id));\r\n\r\n        await historyAPI.deleteExpense(id);\r\n\r\n        dispatch(showLoading(false));\r\n    } catch (e) {\r\n        // console.log(e.response.statusText);\r\n        // invalidToken(e, dispatch);\r\n\r\n\r\n        // ==============================================================\r\n\r\n        const token = `${localStorage.getItem('refreshToken')}`;\r\n        if (token) {\r\n            // @ts-ignore\r\n            const response = await axios.post(`${baseURL}/user/token`, {\r\n                token: token\r\n            });\r\n            if (response.data) {\r\n                localStorage.setItem('token', response.data);\r\n                dispatch(userLogin(true));\r\n                dispatch(deleteExpense(id));\r\n\r\n                // @ts-ignore\r\n                await axios.put(`${baseURL}/history/delete`, {id}, {\r\n                    headers: {\r\n                        'token': response.data\r\n                    }\r\n                });\r\n                dispatch(showLoading(false));\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexport const getExpenses = (expenses: any) => ({type: GET_EXPENSES, expenses});\r\nexport const getPages = (pages: any) => ({type: GET_PAGES, pages});\r\n\r\nexport const getExpensesThunkCreator = (page: number = 1) => async (dispatch: any) => {\r\n    dispatch(showLoading(true));\r\n\r\n    try {\r\n        // `https://analyzerserver.herokuapp.com/api/history/expenses?page=${page}&limit=10`\r\n        // @ts-ignore\r\n        const response = await axios.get(`${baseURL}/history/expenses?page=${page}&limit=10`, {\r\n            headers: {\r\n                'token': `${localStorage.getItem('token')}`\r\n            }\r\n        });\r\n        dispatch(showLoading(false));\r\n        dispatch(getExpenses(response.data.expenses));\r\n        dispatch(getPages(response.data.length));\r\n    } catch (e) {\r\n        // console.log(e.response.statusText);\r\n        // invalidToken(e, dispatch);\r\n\r\n\r\n        const token = `${localStorage.getItem('refreshToken')}`;\r\n        if (token) {\r\n            // @ts-ignore\r\n            const response = await axios.post(`${baseURL}/user/token`, {\r\n                token: token\r\n            });\r\n            if (response.data) {\r\n                localStorage.setItem('token', response.data);\r\n                // console.log(response.data);\r\n                // dispatch(loginLoading(false));\r\n                dispatch(userLogin(true));\r\n\r\n                // @ts-ignore\r\n                const expenses = await axios.get(`${baseURL}/history/expenses?page=${page}&limit=10`, {\r\n                    headers: {\r\n                        'token': response.data,\r\n                    }\r\n                });\r\n                dispatch(showLoading(false));\r\n                dispatch(getExpenses(expenses.data.expenses));\r\n                dispatch(getPages(expenses.data.length));\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport const getAllExpensesThunkCreator = () => async (dispatch: any) => {\r\n    dispatch(showLoading(true));\r\n\r\n    try {\r\n        // `https://analyzerserver.herokuapp.com/api/history/allexpenses`\r\n        // @ts-ignore\r\n        const response = await axios.get(`${baseURL}/history/allexpenses`, {\r\n            headers: {\r\n                'token': `${localStorage.getItem('token')}`\r\n            }\r\n        });\r\n        dispatch(showLoading(false));\r\n        dispatch(getExpenses(response.data.expenses));\r\n    } catch (e) {\r\n        // invalidToken(e, dispatch);\r\n        const token = `${localStorage.getItem('refreshToken')}`;\r\n        if (token) {\r\n            // @ts-ignore\r\n            const response = await axios.post(`${baseURL}/user/token`, {\r\n                token: token\r\n            });\r\n            if (response.data) {\r\n                localStorage.setItem('token', response.data);\r\n                // console.log(response.data);\r\n                // dispatch(loginLoading(false));\r\n                dispatch(userLogin(true));\r\n\r\n                // @ts-ignore\r\n                const allExpenses = await axios.get(`${baseURL}/history/allexpenses`, {\r\n                    headers: {\r\n                        'token': `${localStorage.getItem('token')}`\r\n                    }\r\n                });\r\n                dispatch(showLoading(false));\r\n                dispatch(getExpenses(allExpenses.data.expenses));\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport const changeExpense = (id: number, name: string, category: any, spent: any, count: any, price: any) => ({type: CHANGE_EXPENSE, id, name, category, spent, count, price});\r\nexport const changeExpenseThunkCreator = (id: number, name: string, category: any, spent: any, count: any, price: any) => async (dispatch: any) => {\r\n    dispatch(showLoading(true));\r\n\r\n    try {\r\n        dispatch(changeExpense(id, name, category, spent, count, price));\r\n\r\n        await historyAPI.changeExpense(id, name, category, spent, count, price);\r\n\r\n        dispatch(showLoading(false));\r\n    } catch (e) {\r\n        // console.log(e.response.statusText);\r\n        // invalidToken(e, dispatch);\r\n\r\n        // ==============================================================\r\n\r\n        const token = `${localStorage.getItem('refreshToken')}`;\r\n        if (token) {\r\n            // @ts-ignore\r\n            const response = await axios.post(`${baseURL}/user/token`, {\r\n                token: token\r\n            });\r\n            if (response.data) {\r\n                localStorage.setItem('token', response.data);\r\n                dispatch(userLogin(true));\r\n\r\n                // @ts-ignore\r\n                await axios.put(`${baseURL}/history/change`, {id, name, category, spent, count, price}, {\r\n                    headers: {\r\n                        'token': response.data\r\n                    }\r\n                });\r\n\r\n                dispatch(showLoading(false));\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport default historyReducer;","import {baseURL, invalidToken, settingsAPI} from \"../api/api\";\r\nimport * as axios from \"axios\";\r\nimport {showLoading, userLogin} from \"./account-reducer\";\r\n\r\nconst ADD_CATEGORY = 'ADD_CATEGORY';\r\nconst DELETE_CATEGORY = 'DELETE_CATEGORY';\r\nconst GET_CATEGORIES = 'GET_CATEGORIES';\r\n\r\nlet initialState: any = {\r\n    categories: []\r\n};\r\n\r\nconst settingsReducer = (state = initialState, action: any) => {\r\n    switch (action.type) {\r\n        case GET_CATEGORIES: {\r\n            // @ts-ignore\r\n            return {\r\n                ...state,\r\n                categories: action.categories\r\n            };\r\n        }\r\n        case ADD_CATEGORY: {\r\n            return {\r\n                ...state,\r\n                categories: [\r\n                    ...state.categories,\r\n                    {\r\n                        name: action.name,\r\n                        id: action.id,\r\n                    }\r\n                ]\r\n            };\r\n        }\r\n        case DELETE_CATEGORY: {\r\n            return {\r\n                ...state,\r\n                categories: [\r\n                    ...state.categories.filter((item: any) => item.id !== action.id)\r\n                ]\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addCategory = (name: string, id: any) => ({type: ADD_CATEGORY, name, id});\r\nexport const addCategoriesThunkCreator = (name: string, id: any) => async (dispatch: any) => {\r\n    dispatch(showLoading(true));\r\n    try {\r\n        dispatch(addCategory(name, id));\r\n\r\n        await settingsAPI.addCategory(name, id);\r\n\r\n        dispatch(showLoading(false));\r\n    } catch (e) {\r\n        // console.log(e.response.statusText);\r\n        // invalidToken(e, dispatch);\r\n\r\n        // ==============================================================\r\n\r\n        const token = `${localStorage.getItem('refreshToken')}`;\r\n        if (token) {\r\n            // @ts-ignore\r\n            const response = await axios.post(`${baseURL}/user/token`, {\r\n                token: token\r\n            });\r\n            if (response.data) {\r\n                localStorage.setItem('token', response.data);\r\n                dispatch(userLogin(true));\r\n\r\n                // @ts-ignore\r\n                await axios.post(`${baseURL}/settings/categories`, {name, id}, {\r\n                    headers: {\r\n                        'token': response.data\r\n                    }\r\n                });\r\n\r\n                dispatch(showLoading(false));\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport const getCategories = (categories: any) => ({type: GET_CATEGORIES, categories});\r\nexport const getCategoriesThunkCreator = () => async (dispatch: any) => {\r\n    try {\r\n        // `${baseURL}/api/user/login`\r\n        // 'https://analyzerserver.herokuapp.com/api/settings/categories'\r\n        // @ts-ignore\r\n        const response = await axios.get(`${baseURL}/settings/categories`, {\r\n            headers: {\r\n                'token': `${localStorage.getItem('token')}`\r\n            }\r\n        });\r\n\r\n        dispatch(getCategories(response.data));\r\n    } catch (e) {\r\n        // console.log(e.response.statusText);\r\n\r\n        // ==============================================================\r\n\r\n        const token = `${localStorage.getItem('refreshToken')}`;\r\n        if (token) {\r\n            // @ts-ignore\r\n            const response = await axios.post(`${baseURL}/user/token`, {\r\n                token: token\r\n            });\r\n            if (response.data) {\r\n                localStorage.setItem('token', response.data);\r\n                dispatch(userLogin(true));\r\n\r\n                // @ts-ignore\r\n                const categories = await axios.get(`${baseURL}/settings/categories`, {\r\n                    headers: {\r\n                        'token': response.data\r\n                    }\r\n                });\r\n\r\n                dispatch(getCategories(categories.data));\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport const deleteCategory = (id: string) => ({type: DELETE_CATEGORY, id});\r\nexport const deleteCategoryThunkCreator = (id: any) => async (dispatch: any) => {\r\n    dispatch(showLoading(true));\r\n\r\n    try {\r\n        dispatch(deleteCategory(id));\r\n\r\n        await settingsAPI.deleteExpense(id);\r\n\r\n        dispatch(showLoading(false));\r\n    } catch (e) {\r\n        // console.log(e.response.statusText);\r\n\r\n        // ==============================================================\r\n\r\n        const token = `${localStorage.getItem('refreshToken')}`;\r\n        if (token) {\r\n            // @ts-ignore\r\n            const response = await axios.post(`${baseURL}/user/token`, {\r\n                token: token\r\n            });\r\n            if (response.data) {\r\n                localStorage.setItem('token', response.data);\r\n                dispatch(userLogin(true));\r\n\r\n                // @ts-ignore\r\n                await axios.put(`${baseURL}/settings/delete`, {id}, {\r\n                    headers: {\r\n                        'token': response.data\r\n                    }\r\n                });\r\n                dispatch(showLoading(false));\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport default settingsReducer;","module.exports = __webpack_public_path__ + \"static/media/separator.13ff7084.svg\";","import React from \"react\";\r\nimport loader from '../../assets/images/loading-1.svg';\r\nimport './loader.scss';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <img className={'loader'} src={loader} alt=\"\"/>\r\n    )\r\n};\r\n\r\nexport default Loader;","import * as axios from \"axios\";\r\n\r\nimport {authAPI, baseURL} from \"../api/api\";\r\nimport {getExpenses} from \"./history-reducer\";\r\n\r\nconst USER_LOGIN = 'USER_LOGIN';\r\nconst GET_USER = 'GET_USER';\r\nconst SHOW_LOADING = 'SHOW_LOADING';\r\nconst LOGIN_LOADING = 'LOGIN_LOADING';\r\nconst INFO = 'INFO';\r\n\r\nlet initialState: any = {\r\n    // @ts-ignore\r\n    isAuth: localStorage.getItem('isAuth') || false,\r\n    isLoading: false,\r\n    isLoginLoading: false,\r\n    info: '',\r\n};\r\n\r\nconst accountReducer = (state = initialState, action: any) => {\r\n    switch (action.type) {\r\n        case SHOW_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading,\r\n            };\r\n        case INFO:\r\n            return {\r\n                ...state,\r\n                info: action.info,\r\n            };\r\n        case LOGIN_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoginLoading: action.isLoading,\r\n            };\r\n        case USER_LOGIN: {\r\n            // @ts-ignore\r\n            localStorage.setItem('isAuth', JSON.stringify(action.isAuth));\r\n            return {...state, isAuth: action.isAuth};\r\n        }\r\n        case GET_USER: {\r\n            // @ts-ignore\r\n            const isAuth = JSON.parse(localStorage.getItem('isAuth')) || false;\r\n            return {...state, isAuth};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const userLogin = (isAuth: boolean) => ({type: USER_LOGIN, isAuth});\r\nexport const setInfo = (info: any) => ({type: INFO, info});\r\nexport const getUser = () => ({type: GET_USER});\r\nexport const showLoading = (isLoading: boolean) => ({type: SHOW_LOADING, isLoading});\r\nexport const loginLoading = (isLoading: boolean) => ({type: LOGIN_LOADING, isLoading});\r\n\r\n\r\nexport const userLoginThunkCreator = (email: string, password: string) => async (dispatch: any) => {\r\n    dispatch(loginLoading(true));\r\n\r\n    try {\r\n    // `${baseURL}\r\n    //     'https://analyzerserver.herokuapp.com/api/user/login'\r\n        // @ts-ignore\r\n        const response = await axios.post(`${baseURL}/user/login`, {email, password}, {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n        if (response.data) {\r\n            // localStorage.setItem('token', response.data);\r\n            localStorage.setItem('token', response.data.token);\r\n            localStorage.setItem('refreshToken', response.data.refreshToken);\r\n            console.log(response);\r\n            dispatch(loginLoading(false));\r\n            dispatch(userLogin(true));\r\n        }\r\n    } catch (e) {\r\n        dispatch(loginLoading(false));\r\n        dispatch(userLogin(false));\r\n        // dispatch(setInfo(e.response.data));\r\n    }\r\n};\r\n\r\nexport const userRegisterThunkCreator = (name: string, email: string, password: string) => async (dispatch: any) => {\r\n    dispatch(loginLoading(true));\r\n\r\n    try {\r\n        const response = await authAPI.register(name, email, password);\r\n        if (response.data) {\r\n            dispatch(loginLoading(false));\r\n            dispatch(userLogin(false));\r\n            dispatch(setInfo('ok'));\r\n        }\r\n    } catch (e) {\r\n        dispatch(loginLoading(false));\r\n        dispatch(setInfo(e.response.data));\r\n    }\r\n};\r\n\r\nexport const userLogoutThunkCreator = () => async (dispatch: any) => {\r\n    dispatch(userLogin(false));\r\n    dispatch(getExpenses([]));\r\n    localStorage.setItem('token', '');\r\n    localStorage.setItem('refreshToken', '');\r\n\r\n    try {\r\n        await authAPI.logout();\r\n    } catch (e) {\r\n        console.log(e.response.statusText)\r\n    }\r\n};\r\n\r\nexport default accountReducer;","import React from \"react\";\r\nimport './confirm.scss';\r\nimport cancel from '../../assets/images/cancel.svg';\r\nimport confirm from '../../assets/images/confirm.svg';\r\n\r\ninterface Props {\r\n    title: string,\r\n    className: string,\r\n    func(): void,\r\n    close(): any,\r\n}\r\n\r\nconst Confirm: React.FC<Props> = (props) => {\r\n    return (\r\n        <div className={props.className}>\r\n            <p>{props.title}</p>\r\n            <div className={'buttons'}>\r\n                <div>\r\n                    <button className={'button button--confirm'} onClick={props.func}>\r\n                        <img src={confirm} alt=\"\"/>\r\n                    </button>\r\n                    <p>Yes</p>\r\n                </div>\r\n                <div>\r\n                    <button className={'button button--reject'} onClick={props.close}>\r\n                        <img src={cancel} alt=\"\"/>\r\n                    </button>\r\n                    <p>No</p>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Confirm;","export const categoriesSelector = (store) => {\r\n    return store.settings.categories;\r\n};","module.exports = __webpack_public_path__ + \"static/media/save.33e01ffd.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.234c234c.svg\";","module.exports = __webpack_public_path__ + \"static/media/clear.cbf86002.svg\";","import * as axios from \"axios\";\r\nimport {showLoading, userLogin} from \"../redux/account-reducer\";\r\n\r\nexport const invalidToken = (error, dispatch) => {\r\n    if (error.response.data === 'Invalid Token') {\r\n        dispatch(userLogin(false))\r\n    }\r\n    dispatch(showLoading(false));\r\n};\r\n\r\n// export const baseURL = 'http://localhost:5000/api';\r\nexport const baseURL = 'https://analyzerserver.herokuapp.com/api';\r\n\r\nconst instance = axios.create({\r\n    baseURL,\r\n    headers: {\r\n        'token': `${localStorage.getItem('token')}`\r\n    }\r\n});\r\n\r\nexport const authAPI = {\r\n    register(name, email, password) {\r\n        return instance.post('user/register', {name, email, password});\r\n    },\r\n    logout() {\r\n        return instance.post('user/logout');\r\n    }\r\n};\r\n\r\nexport const historyAPI = {\r\n    getExpenses(page = 1, limit = 5) {\r\n        return instance.get(`history/expenses?page=${page}&limit=${limit}`);\r\n    },\r\n    addExpense(expense) {\r\n        return instance.post('history/expenses', {\r\n            name: expense.name,\r\n            category: expense.category,\r\n            count: expense.count,\r\n            spent: expense.spent,\r\n            price: expense.price,\r\n            date: `${new Date().toLocaleString()}`,\r\n            id: expense.id,\r\n        });\r\n    },\r\n    changeExpense(id, name, category, spent, count, price) {\r\n        return instance.put('history/change', {id, name, category, spent, count, price});\r\n    },\r\n    deleteExpense(id) {\r\n        return instance.put('history/delete', {id});\r\n    },\r\n};\r\n\r\nexport const settingsAPI = {\r\n    addCategory(name, id) {\r\n        return instance.post('settings/categories', {name, id});\r\n    },\r\n    deleteExpense(id) {\r\n        return instance.put('settings/delete', {id});\r\n    },\r\n};","module.exports = __webpack_public_path__ + \"static/media/loading-1.e42ec6d6.svg\";","module.exports = __webpack_public_path__ + \"static/media/history.2ec496af.svg\";","module.exports = __webpack_public_path__ + \"static/media/analytics.0e0ff751.svg\";","module.exports = __webpack_public_path__ + \"static/media/settings.a4fe81f9.svg\";"],"sourceRoot":""}