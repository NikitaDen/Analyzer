(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[3],{348:function(e,t,a){},349:function(e,t,a){e.exports=a.p+"static/media/clear-dark.4def21f1.svg"},350:function(e,t,a){e.exports=a.p+"static/media/add-dark.24833611.svg"},351:function(e,t,a){},352:function(e,t){e.exports=function(e,t,a,n){var r=new Blob("undefined"!==typeof n?[n,e]:[e],{type:a||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{var o=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(r):window.webkitURL.createObjectURL(r),c=document.createElement("a");c.style.display="none",c.href=o,c.setAttribute("download",t),"undefined"===typeof c.download&&c.setAttribute("target","_blank"),document.body.appendChild(c),c.click(),setTimeout((function(){document.body.removeChild(c),window.URL.revokeObjectURL(o)}),200)}}},353:function(e,t,a){},354:function(e,t,a){e.exports=a.p+"static/media/download.21e28e14.svg"},355:function(e,t,a){},356:function(e,t,a){},357:function(e,t,a){e.exports=a.p+"static/media/delete-all.4007b9b3.svg"},358:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a(25),s=a(4),i=(a(348),a(349)),l=a.n(i),u=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:e.name,className:"category"},r.a.createElement("p",null,e.name),r.a.createElement("button",{className:"button",onClick:function(){e.onShowConfirmWindow(),e.setCategoryId(e.id)}},r.a.createElement("img",{src:l.a,alt:""}))))},d=a(350),m=a.n(d),g=(a(351),a(57)),f=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(s.a)(i,2),d=l[0],f=l[1],p=Object(n.useState)(!1),b=Object(s.a)(p,2),C=b[0],E=b[1],h=Object(n.useState)(0),w=Object(s.a)(h,2),k=w[0],y=w[1];Object(n.useEffect)((function(){e.getCategoriesThunkCreator()}),[e.isAuth]),Object(n.useEffect)((function(){e.getCategoriesThunkCreator()}),[]);var v=function(){E(!0)};return r.a.createElement("div",{className:"settings__item categories"},r.a.createElement("h3",null,"Categories"),r.a.createElement("div",{className:"categories__form"},r.a.createElement("input",{onKeyPress:function(t){"Enter"===t.key&&o&&o.replace(/\s+/g,"")?(e.addCategoriesThunkCreator(o,Date.now()),c("")):f(!0)},placeholder:"Products, Bills, etc.",autoFocus:!0,className:d?"category-name category-name--error":"category-name",type:"text",value:o,onBlur:function(){return f(!1)},onChange:function(e){c(e.currentTarget.value),d&&f(!1)}}),r.a.createElement("button",{className:"button",onClick:function(){o&&o.replace(/\s+/g,"")?(e.addCategoriesThunkCreator(o,Date.now()),c("")):f(!0)}},r.a.createElement("img",{src:m.a,alt:""}))),r.a.createElement(g.a,{className:C?"confirm show":"confirm",title:"This category will be deleted. Are you sure?",func:function(){return t=+k,void e.deleteCategoryThunkCreator(t);var t},close:function(){E(!1)}}),r.a.createElement("div",{className:"categories__items"},e.categories.map((function(e){return r.a.createElement(u,{key:e.id,name:e.name,id:e.id,setCategoryId:y,onShowConfirmWindow:v})}))))},p=a(7),b=a(36),C=a(42),E=a(17),h=a(65),w=a(5),k=a(352),y=a.n(k),v=(a(353),a(19)),j=a(354),O=a.n(j),x=function(e){var t="Name,Category,Spent,Date\n"+Object(w.a)(e.expenses).map((function(e){return"".concat(e.name,",").concat(e.category,",").concat(e.spent,",").concat(e.date.toString().split(", ").join(" - "))})).join("\n");return r.a.createElement("div",{className:"settings__item data-loader"},r.a.createElement("h3",null,"Download Data"),r.a.createElement("div",{className:"data-loader__items"},r.a.createElement("p",{className:"settings-info"},"You can download your personal expenses in .CSV file and process your data within Excel."),r.a.createElement(v.a,{image:O.a,className:"button button--settings",func:function(){return y()(t,"expenses.csv")},title:"Download"})))},T=a(15),N=a(45),_=(a(355),a(356),a(357)),A=a.n(_),S=r.a.memo((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],c=a[1],i=Object(w.a)(e.expenses).map((function(e){return e.id}));return r.a.createElement("div",{className:"settings__item data-delete"},r.a.createElement("h3",null,"Delete Data"),r.a.createElement(g.a,{title:"All your expenses will be deleted irrevocably. Are you sure?",className:o?"confirm show":"confirm",func:function(){e.deleteExpensesThunkCreator(i)},close:function(){return c(!1)}}),r.a.createElement("div",{className:"data-loader__items"},r.a.createElement("p",{className:"settings-info"},"All your data can be deleted."),r.a.createElement(v.a,{image:A.a,className:"button button--settings delete",func:function(){return c(!0)},title:"Delete"})))}));t.default=Object(o.b)((function(e){return{categories:Object(h.a)(e),isAuth:Object(E.b)(e),isLoading:Object(E.c)(e),expenses:Object(N.a)(e)}}),{addCategoriesThunkCreator:c.a,deleteCategoryThunkCreator:c.c,getUser:p.b,getCategoriesThunkCreator:c.e,getAllExpensesThunkCreator:T.f,deleteExpensesThunkCreator:T.e})((function(e){return Object(n.useEffect)((function(){e.getUser(),e.getAllExpensesThunkCreator()}),[]),e.isAuth?e.isLoading?r.a.createElement(C.a,null):r.a.createElement("div",{className:"settings"},r.a.createElement("h2",null,"Settings"),r.a.createElement(f,{isAuth:e.isAuth,deleteCategoryThunkCreator:e.deleteCategoryThunkCreator,addCategoriesThunkCreator:e.addCategoriesThunkCreator,getCategoriesThunkCreator:e.getCategoriesThunkCreator,categories:e.categories}),r.a.createElement(x,{expenses:e.expenses,categories:e.categories}),r.a.createElement(S,{expenses:e.expenses,deleteExpensesThunkCreator:e.deleteExpensesThunkCreator})):r.a.createElement(b.a,{to:"login"})}))}}]);
//# sourceMappingURL=3.da550b60.chunk.js.map